import{d as M,b as T,Z as x,c as n,a as s,U as _,aA as G,O as N,u as k,I as f,T as b,R as v,P as z,ag as U,ai as h,o as r,M as P,S}from"./@vue-DwLU1mub.js";import{L as q,_ as H}from"./Logo-fU8OTKjF.js";import{v as I,h as F}from"./@element-plus-m0wAbjkV.js";import{T as J}from"./index-DrMRm187.js";import{B as R}from"./BackSVG-2wNmj3GR.js";import"./vue-router-BeDFSrMD.js";import"./vue-i18n-DcgfqTZL.js";import"./@intlify-CQT3u4ju.js";import"./vue-tel-input-BsVA42h1.js";import"./element-plus-D6RlUQ7b.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-Q_cOxmjC.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Ct2Knyoi.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DF51-gJp.js";const K={class:"auth"},Q={class:"auth__container container"},W={class:"auth__block"},X={class:"auth__flex"},Y={class:"auth__left"},ee={class:"auth__logo"},se={class:"auth__right"},le={class:"auth__top"},oe={key:0,class:"auth__form"},te={class:"form__flex"},ae={class:"form__group"},re={key:0,class:"error text_very"},ie={class:"form__group"},de={key:0,class:"error text_very"},ne={class:"form__group"},me={key:0,class:"error text_very"},ue={class:"form__buttons"},_e=["disabled"],pe={key:1,class:"auth__form"},fe={class:"form__flex"},ve={class:"form__group"},be={class:"form__labels"},ce={class:"form__label"},ye={class:"form__label"},Ne={key:0,class:"error text_very"},xe={key:0,class:"form__group"},ge={key:0,class:"error text_very"},ke={key:1,class:"form__group"},Ve={key:0,class:"error text_very"},we={class:"form__buttons"},Ce=["disabled"],Te=["disabled"],he={key:2,class:"auth__form"},Pe={class:"form__flex"},Be={class:"form__group"},De={key:0,class:"error text_very"},$e={class:"form__group"},ze={key:0,class:"error text_very"},Ue={class:"form__group"},Se={key:0,class:"error text_very"},Ie={class:"form__group"},Fe={key:0,class:"error text_very"},Re={class:"form__group"},Le={class:"form__checkboxes"},Ee={key:0,class:"error text_very"},Oe={class:"form__buttons"},je=["disabled"],Ae=["disabled"],Ze={key:0},Me={key:1},Ge={class:"form__step"},_s=M({__name:"Reg",setup(qe){const c=T(1),m=x({firstName:"",lastName:"",referralCode:""}),u=x({userType:"executor",executorName:"",labelName:""}),a=x({email:"",phone:"",password:"",confirmPassword:"",personalData:!0,marketing:!1}),i=x({firstName:"",lastName:"",referralCode:""}),p=x({userType:"",executorName:"",labelName:""}),o=x({email:"",phone:"",password:"",confirmPassword:"",personalData:""}),V=T(!1),w=T(!1),d=T(!1),C=()=>{let t=!0;return i.firstName="",i.lastName="",i.referralCode="",m.firstName.trim()?m.firstName.trim().length<2?(i.firstName="Имя должно содержать минимум 2 символа",t=!1):/^[a-zA-Zа-яА-ЯёЁ\s\-]+$/.test(m.firstName.trim())||(i.firstName="Имя может содержать только буквы, пробелы и дефисы",t=!1):(i.firstName="Имя обязательно для заполнения",t=!1),m.lastName.trim()&&m.lastName.trim().length<2?(i.lastName="Фамилия должна содержать минимум 2 символа",t=!1):m.lastName.trim()&&!/^[a-zA-Zа-яА-ЯёЁ\s\-]+$/.test(m.lastName.trim())&&(i.lastName="Фамилия может содержать только буквы, пробелы и дефисы",t=!1),m.referralCode.trim()&&m.referralCode.trim().length<3&&(i.referralCode="Реферальный код должен содержать минимум 3 символа",t=!1),t},B=()=>{let t=!0;return p.userType="",p.executorName="",p.labelName="",u.userType||(p.userType="Выберите тип пользователя",t=!1),u.userType==="executor"&&!u.executorName.trim()&&(p.executorName="Имя исполнителя обязательно",t=!1),u.userType==="label"&&!u.labelName.trim()&&(p.labelName="Название лейбла обязательно",t=!1),t},g=()=>{let t=!0;return o.email="",o.phone="",o.password="",o.confirmPassword="",o.personalData="",a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email.trim())||(o.email="Введите корректный email адрес",t=!1):(o.email="Email обязателен для заполнения",t=!1),a.phone.trim()?/^[\d\s\-\+\(\)]+$/.test(a.phone.trim())||(o.phone="Введите корректный номер телефона",t=!1):(o.phone="Номер телефона обязателен",t=!1),a.password?a.password.length<6&&(o.password="Пароль должен содержать минимум 6 символов",t=!1):(o.password="Пароль обязателен",t=!1),a.confirmPassword?a.password!==a.confirmPassword&&(o.confirmPassword="Пароли не совпадают",t=!1):(o.confirmPassword="Подтверждение пароля обязательно",t=!1),a.personalData||(o.personalData="Необходимо согласие на обработку персональных данных",t=!1),t},L=()=>{C()&&(c.value=2)},E=()=>{B()&&(c.value=3)},O=()=>{c.value=1},j=()=>{c.value=2},A=async()=>{if(g()){d.value=!0;try{console.log("Все данные формы:",{...m,...u,...a}),await new Promise(t=>setTimeout(t,1e3)),alert("Регистрация успешно завершена!"),Object.assign(m,{firstName:"",lastName:"",referralCode:""}),Object.assign(u,{userType:"executor",executorName:"",labelName:""}),Object.assign(a,{email:"",phone:"",password:"",confirmPassword:"",personalData:!1,marketing:!1}),c.value=1}catch(t){console.error("Ошибка при регистрации:",t),alert("Произошла ошибка при регистрации. Попробуйте еще раз.")}finally{d.value=!1}}};return(t,e)=>{const Z=h("RouterLink"),y=h("el-input"),D=h("el-icon"),$=h("el-checkbox");return r(),n("section",K,[s("div",Q,[s("div",W,[s("div",X,[s("div",Y,[s("div",ee,[_(q)]),e[24]||(e[24]=G('<div class="auth__image"><img src="'+H+'" alt="cover"></div><div class="auth__info"><h3 class="auth__heading">Стань известным и популярным в мире музыки</h3><p class="auth__description">Выложи трек на все площадки и продавай свою музыку во всем мире</p></div>',2))]),s("div",se,[s("div",le,[e[26]||(e[26]=s("p",{class:"auth__acc text_small"},"У вас уже есть аккаунт?",-1)),_(Z,{class:"auth__login button__second button",to:k(J).i18nRoute({name:"login"})},{default:N(()=>e[25]||(e[25]=[s("span",null,"Войти",-1)])),_:1},8,["to"])]),c.value===1?(r(),n("div",oe,[e[32]||(e[32]=s("div",{class:"form__heading"},[s("h1",{class:"form__head title_two"},"Регистрация")],-1)),s("div",te,[s("div",ae,[e[27]||(e[27]=s("label",{for:"firstName",class:"form__label button"},"Ваше имя*",-1)),_(y,{id:"firstName",modelValue:m.firstName,"onUpdate:modelValue":e[0]||(e[0]=l=>m.firstName=l),type:"text",class:f({error:i.firstName}),placeholder:"Введите ваше имя",disabled:d.value,onBlur:C,onInput:e[1]||(e[1]=l=>i.firstName=""),size:"large"},null,8,["modelValue","class","disabled"]),i.firstName?(r(),n("div",re,b(i.firstName),1)):v("",!0)]),s("div",ie,[e[28]||(e[28]=s("label",{for:"lastName",class:"form__label button"},"Ваша фамилия",-1)),_(y,{id:"lastName",modelValue:m.lastName,"onUpdate:modelValue":e[2]||(e[2]=l=>m.lastName=l),type:"text",class:f({error:i.lastName}),placeholder:"Введите вашу фамилию",disabled:d.value,onBlur:C,onInput:e[3]||(e[3]=l=>i.lastName=""),size:"large"},null,8,["modelValue","class","disabled"]),i.lastName?(r(),n("div",de,b(i.lastName),1)):v("",!0)]),s("div",ne,[e[29]||(e[29]=s("label",{for:"referralCode",class:"form__label button"},"Реферальный код",-1)),e[30]||(e[30]=s("div",{class:"form__hint text_small"}," Если у вас нет кода или почты партнёра, оставьте это поле пустым. ",-1)),_(y,{id:"referralCode",modelValue:m.referralCode,"onUpdate:modelValue":e[4]||(e[4]=l=>m.referralCode=l),type:"text",class:f({error:i.referralCode}),placeholder:"Введите код",disabled:d.value,onBlur:C,onInput:e[5]||(e[5]=l=>i.referralCode=""),size:"large"},null,8,["modelValue","class","disabled"]),i.referralCode?(r(),n("div",me,b(i.referralCode),1)):v("",!0)])]),s("div",ue,[s("button",{class:"form__send button__primary button",onClick:L,disabled:d.value},e[31]||(e[31]=[s("span",null,"Продолжить",-1)]),8,_e)])])):c.value===2?(r(),n("div",pe,[e[42]||(e[42]=s("div",{class:"form__heading"},[s("h1",{class:"form__head title_two"},"Выберите тип аккаунта")],-1)),s("div",fe,[s("div",ve,[e[35]||(e[35]=s("label",{class:"form__label button"},"Тип учетной записи*",-1)),e[36]||(e[36]=s("p",{class:"form__desc text_small"}," Выбирайте «Исполнитель», если вы один артист с одним псевдонимом. Выбирайте «Лейбл», если собираетесь загружать много релизов от разных артистов. ",-1)),s("div",be,[s("label",ce,[z(s("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=l=>u.userType=l),value:"executor",class:"form__label_input"},null,512),[[U,u.userType]]),e[33]||(e[33]=s("span",{class:"form__label_text"},"Исполнитель",-1))]),s("label",ye,[z(s("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=l=>u.userType=l),value:"label",class:"form__label_input"},null,512),[[U,u.userType]]),e[34]||(e[34]=s("span",{class:"form__label_text"},"Лейбл",-1))])]),p.userType?(r(),n("div",Ne,b(p.userType),1)):v("",!0),e[37]||(e[37]=s("p",{class:"form__description text_very"}," Пожалуйста, впишите именно ПСЕВДОНИМ АРТИСТА, под которым будут выкладываться релизы. Если вы планируете публиковать релизы от разных псевдонимов, то сделайте несколько профилей из расчёта «1 профиль = 1 псевдоним», либо аккаунт лейбла. ",-1))]),u.userType==="executor"?(r(),n("div",xe,[e[38]||(e[38]=s("label",{class:"form__label button"},"Имя исполнителя*",-1)),_(y,{modelValue:u.executorName,"onUpdate:modelValue":e[8]||(e[8]=l=>u.executorName=l),type:"text",class:f({error:p.executorName}),placeholder:"Введите имя исполнителя",disabled:d.value,onBlur:B,onInput:e[9]||(e[9]=l=>p.executorName=""),size:"large"},null,8,["modelValue","class","disabled"]),p.executorName?(r(),n("div",ge,b(p.executorName),1)):v("",!0)])):v("",!0),u.userType==="label"?(r(),n("div",ke,[e[39]||(e[39]=s("label",{class:"form__label button"},"Имя лейбла*",-1)),_(y,{modelValue:u.labelName,"onUpdate:modelValue":e[10]||(e[10]=l=>u.labelName=l),type:"text",class:f({error:p.labelName}),placeholder:"Введите название лейбла",disabled:d.value,onBlur:B,onInput:e[11]||(e[11]=l=>p.labelName=""),size:"large"},null,8,["modelValue","class","disabled"]),p.labelName?(r(),n("div",Ve,b(p.labelName),1)):v("",!0)])):v("",!0)]),s("div",we,[s("button",{class:"form__back button__second button",onClick:O,disabled:d.value},[s("span",null,[_(R)]),e[40]||(e[40]=s("span",null,"Назад",-1))],8,Ce),s("button",{class:"form__send button__primary button",onClick:E,disabled:d.value},e[41]||(e[41]=[s("span",null,"Продолжить",-1)]),8,Te)])])):(r(),n("div",he,[e[50]||(e[50]=s("div",{class:"form__heading"},[s("h1",{class:"form__head title_two"},"Контактные данные")],-1)),s("div",Pe,[s("div",Be,[e[43]||(e[43]=s("label",{for:"email",class:"form__label button"},"Электронная почта*",-1)),_(y,{id:"email",modelValue:a.email,"onUpdate:modelValue":e[12]||(e[12]=l=>a.email=l),type:"email",class:f({error:o.email}),placeholder:"Введите ваш e-mail",disabled:d.value,onBlur:g,onInput:e[13]||(e[13]=l=>o.email=""),size:"large"},null,8,["modelValue","class","disabled"]),o.email?(r(),n("div",De,b(o.email),1)):v("",!0)]),s("div",$e,[e[44]||(e[44]=s("label",{for:"phone",class:"form__label button"},"Номер телефона*",-1)),_(y,{id:"phone",modelValue:a.phone,"onUpdate:modelValue":e[14]||(e[14]=l=>a.phone=l),type:"tel",class:f({error:o.phone}),placeholder:"Введите номер телефона",disabled:d.value,onBlur:g,onInput:e[15]||(e[15]=l=>o.phone=""),size:"large"},null,8,["modelValue","class","disabled"]),o.phone?(r(),n("div",ze,b(o.phone),1)):v("",!0)]),s("div",Ue,[e[45]||(e[45]=s("label",{for:"password",class:"form__label button"},"Пароль*",-1)),_(y,{id:"password",modelValue:a.password,"onUpdate:modelValue":e[17]||(e[17]=l=>a.password=l),type:V.value?"text":"password",class:f({error:o.password}),placeholder:"Введите пароль",disabled:d.value,onBlur:g,onInput:e[18]||(e[18]=l=>o.password=""),size:"large"},{suffix:N(()=>[_(D,{onClick:e[16]||(e[16]=l=>V.value=!V.value),style:{color:"var(--el-text-color-placeholder)",cursor:"pointer"}},{default:N(()=>[V.value?(r(),P(k(I),{key:0})):(r(),P(k(F),{key:1}))]),_:1})]),_:1},8,["modelValue","type","class","disabled"]),o.password?(r(),n("div",Se,b(o.password),1)):v("",!0)]),s("div",Ie,[e[46]||(e[46]=s("label",{for:"confirmPassword",class:"form__label button"},"Повторите пароль*",-1)),_(y,{id:"confirmPassword",modelValue:a.confirmPassword,"onUpdate:modelValue":e[20]||(e[20]=l=>a.confirmPassword=l),type:w.value?"text":"password",class:f({error:o.confirmPassword}),placeholder:"Повторите пароль",disabled:d.value,onBlur:g,onInput:e[21]||(e[21]=l=>o.confirmPassword=""),size:"large"},{suffix:N(()=>[_(D,{onClick:e[19]||(e[19]=l=>w.value=!w.value),style:{color:"var(--el-text-color-placeholder)",cursor:"pointer"}},{default:N(()=>[w.value?(r(),P(k(I),{key:0})):(r(),P(k(F),{key:1}))]),_:1})]),_:1},8,["modelValue","type","class","disabled"]),o.confirmPassword?(r(),n("div",Fe,b(o.confirmPassword),1)):v("",!0)]),s("div",Re,[s("div",Le,[_($,{modelValue:a.personalData,"onUpdate:modelValue":e[22]||(e[22]=l=>a.personalData=l),disabled:d.value,class:f({error:o.personalData}),size:"large"},{default:N(()=>e[47]||(e[47]=[S(" Я даю согласие на обработку своих персональных данных ")])),_:1},8,["modelValue","disabled","class"]),_($,{modelValue:a.marketing,"onUpdate:modelValue":e[23]||(e[23]=l=>a.marketing=l),disabled:d.value,size:"large"},{default:N(()=>e[48]||(e[48]=[S(" Я даю согласие на рекламную рассылку ")])),_:1},8,["modelValue","disabled"])]),o.personalData?(r(),n("div",Ee,b(o.personalData),1)):v("",!0)])]),s("div",Oe,[s("button",{class:"form__back button__second button",onClick:j,disabled:d.value},[s("span",null,[_(R)]),e[49]||(e[49]=s("span",null,"Назад",-1))],8,je),s("button",{class:"form__send button__primary button",onClick:A,disabled:d.value},[d.value?(r(),n("span",Me,"Загрузка...")):(r(),n("span",Ze,"Зарегистрироваться"))],8,Ae)])])),s("div",Ge,[s("span",{class:f({active:c.value>=1})},null,2),s("span",{class:f({active:c.value>=2})},null,2),s("span",{class:f({active:c.value>=3})},null,2)])])])])])])}}});export{_s as default};
