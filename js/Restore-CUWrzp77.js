import{_ as g}from"./auth-D_GbeW7X.js";import{T as k}from"./index-B-fF9cRk.js";import{L as y}from"./Logo-MSEfyHuZ.js";import{B as V}from"./BackSVG-DtdE0Zph.js";import{d as x,b as u,Z as c,c as l,a as t,U as n,I as B,T as C,R as p,O as L,u as R,ai as f,o as r}from"./@vue-DwLU1mub.js";import"./vue-router-CPimp6oI.js";import"./vue-i18n-DcgfqTZL.js";import"./@intlify-CQT3u4ju.js";import"./@element-plus-m0wAbjkV.js";import"./vue-tel-input-BsVA42h1.js";import"./element-plus-3NUcAjFf.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-Q_cOxmjC.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Ct2Knyoi.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DF51-gJp.js";const S={class:"auth"},w={class:"auth__container container"},E={class:"auth__block"},T={class:"auth__flex"},N={class:"auth__left"},z={class:"auth__left_left"},D={class:"auth__logo"},G={class:"auth__right"},I={class:"auth__form"},U={class:"form__flex"},$={class:"form__group"},F={key:0,class:"error text_very"},O={key:1,class:"form__description text_very"},P={class:"form__buttons"},Z=["disabled","loading"],j={key:0},q={key:1},ut=x({__name:"Restore",setup(A){const _=u(!1),a=c({email:""}),o=c({email:""}),i=u(!1),m=()=>{let e=!0;return o.email="",a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email.trim())||(o.email="Введите корректный email адрес",e=!1):(o.email="Email обязателен для заполнения",e=!1),e},v=async()=>{if(m()){i.value=!0;try{console.log("Email для восстановления пароля:",{email:a.email.trim()}),await new Promise(e=>setTimeout(e,1e3)),_.value=!0,alert("Ссылка для восстановления пароля отправлена на ваш email!"),a.email=""}catch(e){console.error("Ошибка при отправке:",e),alert("Произошла ошибка при отправке. Попробуйте еще раз.")}finally{i.value=!1}}};return(e,s)=>{const h=f("el-input"),b=f("RouterLink");return r(),l("section",S,[t("div",w,[t("div",E,[t("div",T,[t("div",N,[t("div",z,[t("div",D,[n(y)]),s[2]||(s[2]=t("div",{class:"auth__info"},[t("h3",{class:"auth__heading"},"Стань известным и популярным в мире музыки"),t("p",{class:"auth__description"},"Выложи трек на все площадки и продавай свою музыку во всем мире")],-1))]),s[3]||(s[3]=t("div",{class:"auth__image"},[t("img",{src:g,alt:"cover"})],-1))]),t("div",G,[t("div",I,[s[6]||(s[6]=t("div",{class:"form__heading"},[t("h1",{class:"form__head title_two"},"Восстановление пароля"),t("p",{class:"form__desc title_small"},"Введите e-mail, на который будет отправлена ссылка с восстановлением пароля.")],-1)),t("div",U,[t("div",$,[s[4]||(s[4]=t("label",{for:"email",class:"form__label button"},"E-mail",-1)),n(h,{id:"email",modelValue:a.email,"onUpdate:modelValue":s[0]||(s[0]=d=>a.email=d),type:"email",class:B({error:o.email}),placeholder:"Введите ваш e-mail",disabled:i.value,onBlur:m,onInput:s[1]||(s[1]=d=>o.email=""),size:"large"},null,8,["modelValue","class","disabled"]),o.email?(r(),l("div",F,C(o.email),1)):p("",!0),_.value?(r(),l("p",O," Если у вас есть учётная запись Vauvision, соответствующая этому адресу электронной почты, вы получите ссылку для сброса пароля в течение следующих 10 минут. Если вы её не видите, проверьте папку со спамом. ")):p("",!0)])]),t("div",P,[n(b,{class:"auth__back button__second button",to:R(k).i18nRoute({name:"login"})},{default:L(()=>[t("span",null,[n(V)]),s[5]||(s[5]=t("span",null,"Назад",-1))]),_:1},8,["to"]),t("button",{class:"form__send button__black button",onClick:v,disabled:i.value,loading:i.value},[i.value?(r(),l("span",q,"Загрузка...")):(r(),l("span",j,"Отправить"))],8,Z)])])])])])])])}}});export{ut as default};
