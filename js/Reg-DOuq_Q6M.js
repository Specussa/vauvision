import{d as G,b as P,Z as g,c as d,a as s,U as p,O as x,u as k,S as N,I as f,T as c,R as v,P as S,ag as I,ai as B,o as r,M as D}from"./@vue-DwLU1mub.js";import{_ as M}from"./auth-D_GbeW7X.js";import{v as F,h as L}from"./@element-plus-m0wAbjkV.js";import{T as q}from"./index-CoLUgebN.js";import{L as H}from"./Logo-Bv9PJObZ.js";import{B as R}from"./BackSVG-BCv8aQer.js";import"./vue-router-CPimp6oI.js";import"./vue-i18n-DcgfqTZL.js";import"./@intlify-CQT3u4ju.js";import"./vue-tel-input-BsVA42h1.js";import"./element-plus-3NUcAjFf.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-Q_cOxmjC.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Ct2Knyoi.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DF51-gJp.js";const J={class:"auth"},K={class:"auth__container container"},Q={class:"auth__block"},W={class:"auth__flex"},X={class:"auth__left"},Y={class:"auth__left_left"},ee={class:"auth__logo"},se={class:"auth__right"},le={class:"auth__top"},oe={key:0,class:"auth__form"},ae={class:"form__flex"},te={class:"form__group"},re={key:0,class:"error text_very"},ie={class:"form__group"},ne={key:0,class:"error text_very"},de={class:"form__group"},ue={key:0,class:"error text_very"},me={class:"form__buttons"},pe=["disabled"],_e={key:1,class:"auth__form"},fe={class:"form__flex"},ve={class:"form__group"},be={class:"form__labels"},ce={class:"form__label"},ye={class:"form__label"},Ne={key:0,class:"error text_very"},xe={key:0,class:"form__group"},ge={key:0,class:"error text_very"},we={key:1,class:"form__group"},ke={key:0,class:"error text_very"},Ve={class:"form__buttons"},Ce=["disabled"],he=["disabled"],Te={key:2,class:"auth__form"},Pe={class:"form__flex"},Be={class:"form__group"},De={key:0,class:"error text_very"},$e={class:"form__group"},ze={key:0,class:"error text_very"},Ue={class:"form__group"},Se={key:0,class:"error text_very"},Ie={class:"form__group"},Fe={key:0,class:"error text_very"},Le={class:"form__group"},Re={class:"form__checkboxes"},Ee={key:0,class:"error text_very"},Oe={class:"form__buttons"},Ze=["disabled"],je=["disabled"],Ae={key:0},Ge={key:1},Me={class:"form__step"},_s=G({__name:"Reg",setup(qe){const y=P(1),u=g({firstName:"",lastName:"",referralCode:""}),m=g({userType:"executor",executorName:"",labelName:""}),t=g({email:"",phone:"",password:"",confirmPassword:"",personalData:!1,marketing:!1}),i=g({firstName:"",lastName:"",referralCode:""}),_=g({userType:"",executorName:"",labelName:""}),o=g({email:"",phone:"",password:"",confirmPassword:"",personalData:""}),V=P(!1),C=P(!1),n=P(!1),h=()=>{let a=!0;return i.firstName="",i.lastName="",i.referralCode="",u.firstName.trim()?u.firstName.trim().length<2?(i.firstName="Имя должно содержать минимум 2 символа",a=!1):/^[a-zA-Zа-яА-ЯёЁ\s\-]+$/.test(u.firstName.trim())||(i.firstName="Имя может содержать только буквы, пробелы и дефисы",a=!1):(i.firstName="Имя обязательно для заполнения",a=!1),u.lastName.trim()&&u.lastName.trim().length<2?(i.lastName="Фамилия должна содержать минимум 2 символа",a=!1):u.lastName.trim()&&!/^[a-zA-Zа-яА-ЯёЁ\s\-]+$/.test(u.lastName.trim())&&(i.lastName="Фамилия может содержать только буквы, пробелы и дефисы",a=!1),u.referralCode.trim()&&u.referralCode.trim().length<3&&(i.referralCode="Реферальный код должен содержать минимум 3 символа",a=!1),a},$=()=>{let a=!0;return _.userType="",_.executorName="",_.labelName="",m.userType||(_.userType="Выберите тип пользователя",a=!1),m.userType==="executor"&&!m.executorName.trim()&&(_.executorName="Имя исполнителя обязательно",a=!1),m.userType==="label"&&!m.labelName.trim()&&(_.labelName="Название лейбла обязательно",a=!1),a},w=()=>{let a=!0;if(o.email="",o.phone="",o.password="",o.confirmPassword="",o.personalData="",t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email.trim())||(o.email="Введите корректный email адрес",a=!1):(o.email="Email обязателен для заполнения",a=!1),t.phone.trim()?/^[\d\s\-\+\(\)]+$/.test(t.phone.trim())||(o.phone="Введите корректный номер телефона",a=!1):(o.phone="Номер телефона обязателен",a=!1),!t.password)o.password="Пароль обязателен",a=!1;else if(t.password.length<6)o.password="Пароль должен содержать минимум 6 символов",a=!1;else{const e=/[A-Z]/.test(t.password),z=/[a-z]/.test(t.password),b=/\d/.test(t.password),T=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t.password);(!e||!z||!b||!T)&&(o.password="Пароль должен содержать заглавные и строчные буквы, цифры и специальные символы",a=!1)}return t.confirmPassword?t.password!==t.confirmPassword&&(o.confirmPassword="Пароли не совпадают",a=!1):(o.confirmPassword="Подтверждение пароля обязательно",a=!1),t.personalData||(o.personalData="Необходимо согласие на обработку персональных данных",a=!1),a},E=()=>{h()&&(y.value=2)},O=()=>{$()&&(y.value=3)},Z=()=>{y.value=1},j=()=>{y.value=2},A=async()=>{if(w()){n.value=!0;try{console.log("Все данные формы:",{...u,...m,...t}),await new Promise(a=>setTimeout(a,1e3)),alert("Регистрация успешно завершена!"),Object.assign(u,{firstName:"",lastName:"",referralCode:""}),Object.assign(m,{userType:"executor",executorName:"",labelName:""}),Object.assign(t,{email:"",phone:"",password:"",confirmPassword:"",personalData:!1,marketing:!1}),y.value=1}catch(a){console.error("Ошибка при регистрации:",a),alert("Произошла ошибка при регистрации. Попробуйте еще раз.")}finally{n.value=!1}}};return(a,e)=>{const z=B("RouterLink"),b=B("el-input"),T=B("el-icon"),U=B("el-checkbox");return r(),d("section",J,[s("div",K,[s("div",Q,[s("div",W,[s("div",X,[s("div",Y,[s("div",ee,[p(H)]),e[24]||(e[24]=s("div",{class:"auth__info"},[s("h3",{class:"auth__heading"},"Стань известным и популярным в мире музыки"),s("p",{class:"auth__description"},"Выложи трек на все площадки и продавай свою музыку во всем мире")],-1))]),e[25]||(e[25]=s("div",{class:"auth__image"},[s("img",{src:M,alt:"cover"})],-1))]),s("div",se,[s("div",le,[e[27]||(e[27]=s("p",{class:"auth__acc text_small"},"У вас уже есть аккаунт?",-1)),p(z,{class:"auth__login button__second button",to:k(q).i18nRoute({name:"login"})},{default:x(()=>e[26]||(e[26]=[s("span",null,"Войти",-1)])),_:1},8,["to"])]),y.value===1?(r(),d("div",oe,[e[33]||(e[33]=s("div",{class:"form__heading"},[s("h1",{class:"form__head title_two"},"Регистрация")],-1)),s("div",ae,[s("div",te,[e[28]||(e[28]=s("label",{for:"firstName",class:"form__label button"},[N("Ваше имя"),s("span",null,"*")],-1)),p(b,{id:"firstName",modelValue:u.firstName,"onUpdate:modelValue":e[0]||(e[0]=l=>u.firstName=l),type:"text",class:f({error:i.firstName}),placeholder:"Введите ваше имя",disabled:n.value,onBlur:h,onInput:e[1]||(e[1]=l=>i.firstName=""),size:"large"},null,8,["modelValue","class","disabled"]),i.firstName?(r(),d("div",re,c(i.firstName),1)):v("",!0)]),s("div",ie,[e[29]||(e[29]=s("label",{for:"lastName",class:"form__label button"},"Ваша фамилия",-1)),p(b,{id:"lastName",modelValue:u.lastName,"onUpdate:modelValue":e[2]||(e[2]=l=>u.lastName=l),type:"text",class:f({error:i.lastName}),placeholder:"Введите вашу фамилию",disabled:n.value,onBlur:h,onInput:e[3]||(e[3]=l=>i.lastName=""),size:"large"},null,8,["modelValue","class","disabled"]),i.lastName?(r(),d("div",ne,c(i.lastName),1)):v("",!0)]),s("div",de,[e[30]||(e[30]=s("label",{for:"referralCode",class:"form__label button"},"Реферальный код",-1)),e[31]||(e[31]=s("div",{class:"form__hint text_small"}," Если у вас нет кода или почты партнёра, оставьте это поле пустым. ",-1)),p(b,{id:"referralCode",modelValue:u.referralCode,"onUpdate:modelValue":e[4]||(e[4]=l=>u.referralCode=l),type:"text",class:f({error:i.referralCode}),placeholder:"Введите код",disabled:n.value,onBlur:h,onInput:e[5]||(e[5]=l=>i.referralCode=""),size:"large"},null,8,["modelValue","class","disabled"]),i.referralCode?(r(),d("div",ue,c(i.referralCode),1)):v("",!0)])]),s("div",me,[s("button",{class:"form__send button__black button",onClick:E,disabled:n.value},e[32]||(e[32]=[s("span",null,"Продолжить",-1)]),8,pe)])])):y.value===2?(r(),d("div",_e,[e[43]||(e[43]=s("div",{class:"form__heading"},[s("h1",{class:"form__head title_two"},"Выберите тип аккаунта")],-1)),s("div",fe,[s("div",ve,[e[36]||(e[36]=s("label",{class:"form__label button"},[N("Тип учетной записи"),s("span",null,"*")],-1)),e[37]||(e[37]=s("p",{class:"form__desc text_small"}," Выбирайте «Исполнитель», если вы один артист с одним псевдонимом. Выбирайте «Лейбл», если собираетесь загружать много релизов от разных артистов. ",-1)),s("div",be,[s("label",ce,[S(s("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=l=>m.userType=l),value:"executor",class:"form__label_input"},null,512),[[I,m.userType]]),e[34]||(e[34]=s("span",{class:"form__label_text"},"Исполнитель",-1))]),s("label",ye,[S(s("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=l=>m.userType=l),value:"label",class:"form__label_input"},null,512),[[I,m.userType]]),e[35]||(e[35]=s("span",{class:"form__label_text"},"Лейбл",-1))])]),_.userType?(r(),d("div",Ne,c(_.userType),1)):v("",!0),e[38]||(e[38]=s("p",{class:"form__description text_very"}," Пожалуйста, впишите именно ПСЕВДОНИМ АРТИСТА, под которым будут выкладываться релизы. Если вы планируете публиковать релизы от разных псевдонимов, то сделайте несколько профилей из расчёта «1 профиль = 1 псевдоним», либо аккаунт лейбла. ",-1))]),m.userType==="executor"?(r(),d("div",xe,[e[39]||(e[39]=s("label",{class:"form__label button"},[N("Имя исполнителя"),s("span",null,"*")],-1)),p(b,{modelValue:m.executorName,"onUpdate:modelValue":e[8]||(e[8]=l=>m.executorName=l),type:"text",class:f({error:_.executorName}),placeholder:"Введите имя исполнителя",disabled:n.value,onBlur:$,onInput:e[9]||(e[9]=l=>_.executorName=""),size:"large"},null,8,["modelValue","class","disabled"]),_.executorName?(r(),d("div",ge,c(_.executorName),1)):v("",!0)])):v("",!0),m.userType==="label"?(r(),d("div",we,[e[40]||(e[40]=s("label",{class:"form__label button"},[N("Имя лейбла"),s("span",null,"*")],-1)),p(b,{modelValue:m.labelName,"onUpdate:modelValue":e[10]||(e[10]=l=>m.labelName=l),type:"text",class:f({error:_.labelName}),placeholder:"Введите название лейбла",disabled:n.value,onBlur:$,onInput:e[11]||(e[11]=l=>_.labelName=""),size:"large"},null,8,["modelValue","class","disabled"]),_.labelName?(r(),d("div",ke,c(_.labelName),1)):v("",!0)])):v("",!0)]),s("div",Ve,[s("button",{class:"form__back button__second button",onClick:Z,disabled:n.value},[s("span",null,[p(R)]),e[41]||(e[41]=s("span",null,"Назад",-1))],8,Ce),s("button",{class:"form__send button__black button",onClick:O,disabled:n.value},e[42]||(e[42]=[s("span",null,"Продолжить",-1)]),8,he)])])):(r(),d("div",Te,[e[51]||(e[51]=s("div",{class:"form__heading"},[s("h1",{class:"form__head title_two"},"Контактные данные")],-1)),s("div",Pe,[s("div",Be,[e[44]||(e[44]=s("label",{for:"email",class:"form__label button"},[N("Электронная почта"),s("span",null,"*")],-1)),p(b,{id:"email",modelValue:t.email,"onUpdate:modelValue":e[12]||(e[12]=l=>t.email=l),type:"email",class:f({error:o.email}),placeholder:"Введите ваш e-mail",disabled:n.value,onBlur:w,onInput:e[13]||(e[13]=l=>o.email=""),size:"large"},null,8,["modelValue","class","disabled"]),o.email?(r(),d("div",De,c(o.email),1)):v("",!0)]),s("div",$e,[e[45]||(e[45]=s("label",{for:"phone",class:"form__label button"},[N("Номер телефона"),s("span",null,"*")],-1)),p(b,{id:"phone",modelValue:t.phone,"onUpdate:modelValue":e[14]||(e[14]=l=>t.phone=l),type:"tel",class:f({error:o.phone}),placeholder:"Введите номер телефона",disabled:n.value,onBlur:w,onInput:e[15]||(e[15]=l=>o.phone=""),size:"large"},null,8,["modelValue","class","disabled"]),o.phone?(r(),d("div",ze,c(o.phone),1)):v("",!0)]),s("div",Ue,[e[46]||(e[46]=s("label",{for:"password",class:"form__label button"},[N("Пароль"),s("span",null,"*")],-1)),p(b,{id:"password",modelValue:t.password,"onUpdate:modelValue":e[17]||(e[17]=l=>t.password=l),type:V.value?"text":"password",class:f({error:o.password}),placeholder:"Введите пароль",disabled:n.value,onBlur:w,onInput:e[18]||(e[18]=l=>o.password=""),size:"large"},{suffix:x(()=>[p(T,{onClick:e[16]||(e[16]=l=>V.value=!V.value),style:{color:"var(--el-text-color-placeholder)",cursor:"pointer"}},{default:x(()=>[V.value?(r(),D(k(F),{key:0})):(r(),D(k(L),{key:1}))]),_:1})]),_:1},8,["modelValue","type","class","disabled"]),o.password?(r(),d("div",Se,c(o.password),1)):v("",!0)]),s("div",Ie,[e[47]||(e[47]=s("label",{for:"confirmPassword",class:"form__label button"},[N("Повторите пароль"),s("span",null,"*")],-1)),p(b,{id:"confirmPassword",modelValue:t.confirmPassword,"onUpdate:modelValue":e[20]||(e[20]=l=>t.confirmPassword=l),type:C.value?"text":"password",class:f({error:o.confirmPassword}),placeholder:"Повторите пароль",disabled:n.value,onBlur:w,onInput:e[21]||(e[21]=l=>o.confirmPassword=""),size:"large"},{suffix:x(()=>[p(T,{onClick:e[19]||(e[19]=l=>C.value=!C.value),style:{color:"var(--el-text-color-placeholder)",cursor:"pointer"}},{default:x(()=>[C.value?(r(),D(k(F),{key:0})):(r(),D(k(L),{key:1}))]),_:1})]),_:1},8,["modelValue","type","class","disabled"]),o.confirmPassword?(r(),d("div",Fe,c(o.confirmPassword),1)):v("",!0)]),s("div",Le,[s("div",Re,[p(U,{modelValue:t.personalData,"onUpdate:modelValue":e[22]||(e[22]=l=>t.personalData=l),disabled:n.value,class:f({error:o.personalData}),size:"large"},{default:x(()=>e[48]||(e[48]=[N(" Я даю согласие на обработку своих персональных данных ")])),_:1},8,["modelValue","disabled","class"]),p(U,{modelValue:t.marketing,"onUpdate:modelValue":e[23]||(e[23]=l=>t.marketing=l),disabled:n.value,size:"large"},{default:x(()=>e[49]||(e[49]=[N(" Я даю согласие на рекламную рассылку ")])),_:1},8,["modelValue","disabled"])]),o.personalData?(r(),d("div",Ee,c(o.personalData),1)):v("",!0)])]),s("div",Oe,[s("button",{class:"form__back button__second button",onClick:j,disabled:n.value},[s("span",null,[p(R)]),e[50]||(e[50]=s("span",null,"Назад",-1))],8,Ze),s("button",{class:"form__send button__black button",onClick:A,disabled:n.value},[n.value?(r(),d("span",Ge,"Загрузка...")):(r(),d("span",Ae,"Зарегистрироваться"))],8,je)])])),s("div",Me,[s("span",{class:f({active:y.value>=1})},null,2),s("span",{class:f({active:y.value>=2})},null,2),s("span",{class:f({active:y.value>=3})},null,2)])])])])])])}}});export{_s as default};
