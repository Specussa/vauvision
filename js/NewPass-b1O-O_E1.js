import{L as N,_ as P}from"./Logo-fH5UXkAQ.js";import{v as b,h as y}from"./@element-plus-m0wAbjkV.js";import{d as $,Z as g,b as v,c as n,a as o,U as d,aA as z,O as m,I as k,T as x,R as V,ai as C,o as a,M as p,u}from"./@vue-DwLU1mub.js";import"./index-UJNAK3VM.js";import"./vue-router-BeDFSrMD.js";import"./vue-i18n-DcgfqTZL.js";import"./@intlify-CQT3u4ju.js";import"./vue-tel-input-BsVA42h1.js";import"./element-plus-D6RlUQ7b.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-Q_cOxmjC.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Ct2Knyoi.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DF51-gJp.js";const I={class:"auth"},L={class:"auth__container container"},S={class:"auth__block"},U={class:"auth__flex"},D={class:"auth__left"},T={class:"auth__logo"},A={class:"auth__right"},E={class:"auth__form"},F={class:"form__flex"},M={class:"form__group"},O={key:0,class:"error text_very"},R={class:"form__group"},Z={key:0,class:"error text_very"},j={class:"form__buttons"},q=["disabled"],G={key:0},H={key:1},ps=$({__name:"NewPass",setup(J){const t=g({password:"",confirm:""}),e=g({password:"",confirm:""}),_=v(!1),c=v(!1),i=v(!1),f=()=>{let r=!0;return e.password="",e.confirm="",t.password?t.password.length<6&&(e.password="Пароль должен содержать минимум 6 символов",r=!1):(e.password="Пароль обязателен для заполнения",r=!1),t.confirm?t.password!==t.confirm&&(e.confirm="Пароли не совпадают",r=!1):(e.confirm="Подтверждение пароля обязательно",r=!1),r},B=async()=>{if(f()){i.value=!0;try{console.log("Данные формы:",{password:t.password,confirm:t.confirm}),await new Promise(r=>setTimeout(r,1e3)),alert("Пароль успешно изменен!"),t.password="",t.confirm=""}catch(r){console.error("Ошибка при восстановлении пароля:",r),alert("Произошла ошибка при восстановлении пароля. Попробуйте еще раз.")}finally{i.value=!1}}};return(r,s)=>{const w=C("el-icon"),h=C("el-input");return a(),n("section",I,[o("div",L,[o("div",S,[o("div",U,[o("div",D,[o("div",T,[d(N)]),s[6]||(s[6]=z('<div class="auth__image"><img src="'+P+'" alt="cover"></div><div class="auth__info"><h3 class="auth__heading">Стань известным и популярным в мире музыки</h3><p class="auth__description">Выложи трек на все площадки и продавай свою музыку во всем мире</p></div>',2))]),o("div",A,[o("div",E,[s[9]||(s[9]=o("div",{class:"form__heading"},[o("h1",{class:"form__head title_two"},"Восстановление пароля")],-1)),o("div",F,[o("div",M,[s[7]||(s[7]=o("label",{for:"password",class:"form__label button"},"Новый пароль",-1)),d(h,{id:"password",modelValue:t.password,"onUpdate:modelValue":s[1]||(s[1]=l=>t.password=l),type:_.value?"text":"password",class:k({error:e.password}),placeholder:"Введите новый пароль",disabled:i.value,onBlur:f,onInput:s[2]||(s[2]=l=>e.password=""),size:"large"},{suffix:m(()=>[d(w,{onClick:s[0]||(s[0]=l=>_.value=!_.value),style:{color:"var(--el-text-color-placeholder)",cursor:"pointer"}},{default:m(()=>[_.value?(a(),p(u(b),{key:0})):(a(),p(u(y),{key:1}))]),_:1})]),_:1},8,["modelValue","type","class","disabled"]),e.password?(a(),n("div",O,x(e.password),1)):V("",!0)]),o("div",R,[s[8]||(s[8]=o("label",{for:"confirmPassword",class:"form__label button"},"Повторите пароль",-1)),d(h,{id:"confirmPassword",modelValue:t.confirm,"onUpdate:modelValue":s[4]||(s[4]=l=>t.confirm=l),type:c.value?"text":"password",class:k({error:e.confirm}),placeholder:"Повторите новый пароль",disabled:i.value,onBlur:f,onInput:s[5]||(s[5]=l=>e.confirm=""),size:"large"},{suffix:m(()=>[d(w,{onClick:s[3]||(s[3]=l=>c.value=!c.value),style:{color:"var(--el-text-color-placeholder)",cursor:"pointer"}},{default:m(()=>[c.value?(a(),p(u(b),{key:0})):(a(),p(u(y),{key:1}))]),_:1})]),_:1},8,["modelValue","type","class","disabled"]),e.confirm?(a(),n("div",Z,x(e.confirm),1)):V("",!0)])]),o("div",j,[o("button",{class:"form__send button__primary button",onClick:B,disabled:i.value},[i.value?(a(),n("span",H,"Загрузка...")):(a(),n("span",G,"восстановить пароль"))],8,q)])])])])])])])}}});export{ps as default};
