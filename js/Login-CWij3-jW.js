import{_ as B}from"./auth-D_GbeW7X.js";import{v as L,h as R}from"./@element-plus-m0wAbjkV.js";import{T as b}from"./index-DHDqDE0R.js";import{L as z}from"./Logo-BT52tKMw.js";import{d as N,Z as h,b as w,c as d,a as s,U as i,aA as S,O as _,u,I as g,T as k,R as y,ai as p,o as n,M as V}from"./@vue-DwLU1mub.js";import"./vue-router-BeDFSrMD.js";import"./vue-i18n-DcgfqTZL.js";import"./@intlify-CQT3u4ju.js";import"./vue-tel-input-BsVA42h1.js";import"./element-plus-D6RlUQ7b.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-Q_cOxmjC.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Ct2Knyoi.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DF51-gJp.js";const T={class:"auth"},U={class:"auth__container container"},$={class:"auth__block"},E={class:"auth__flex"},I={class:"auth__left"},D={class:"auth__logo"},A={class:"auth__right"},F={class:"auth__top"},G={class:"auth__form"},O={class:"form__flex"},P={class:"form__group"},Z={key:0,class:"error text_very"},j={class:"form__group"},q={key:0,class:"error text_very"},H={class:"form__group form__row"},J={class:"form__buttons"},K=["disabled","loading"],Q={key:0},W={key:1},he=N({__name:"Login",setup(X){const o=h({email:"",password:"",rememberMe:!1}),t=h({email:"",password:""}),m=w(!1),l=w(!1),c=()=>{let a=!0;return t.email="",t.password="",o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email.trim())||(t.email="Введите корректный email адрес",a=!1):(t.email="Email обязателен для заполнения",a=!1),o.password?o.password.length<6&&(t.password="Пароль должен содержать минимум 6 символов",a=!1):(t.password="Пароль обязателен для заполнения",a=!1),a},x=async()=>{if(c()){l.value=!0;try{console.log("Данные формы:",{email:o.email.trim(),password:o.password,rememberMe:o.rememberMe}),await new Promise(a=>setTimeout(a,1e3)),alert("Вход успешно выполнен!"),o.email="",o.password="",o.rememberMe=!1}catch(a){console.error("Ошибка при входе:",a),alert("Произошла ошибка при входе. Попробуйте еще раз.")}finally{l.value=!1}}};return(a,e)=>{const f=p("RouterLink"),v=p("el-input"),C=p("el-icon"),M=p("el-checkbox");return n(),d("section",T,[s("div",U,[s("div",$,[s("div",E,[s("div",I,[s("div",D,[i(z)]),e[6]||(e[6]=S('<div class="auth__image"><img src="'+B+'" alt="cover"></div><div class="auth__info"><h3 class="auth__heading">Стань известным и популярным в мире музыки</h3><p class="auth__description">Выложи трек на все площадки и продавай свою музыку во всем мире</p></div>',2))]),s("div",A,[s("div",F,[e[8]||(e[8]=s("p",{class:"auth__acc text_small"},"У вас нет аккаунта?",-1)),i(f,{class:"auth__login button__second button",to:u(b).i18nRoute({name:"registration"})},{default:_(()=>e[7]||(e[7]=[s("span",null,"Зарегистрироваться",-1)])),_:1},8,["to"])]),s("div",G,[e[12]||(e[12]=s("div",{class:"form__heading"},[s("h1",{class:"form__head title_two"},"Вход")],-1)),s("div",O,[s("div",P,[e[9]||(e[9]=s("label",{for:"email",class:"form__label button"},"E-mail",-1)),i(v,{id:"email",modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=r=>o.email=r),type:"email",class:g({error:t.email}),placeholder:"Введите ваш e-mail",disabled:l.value,onBlur:c,onInput:e[1]||(e[1]=r=>t.email=""),size:"large"},null,8,["modelValue","class","disabled"]),t.email?(n(),d("div",Z,k(t.email),1)):y("",!0)]),s("div",j,[e[10]||(e[10]=s("label",{for:"password",class:"form__label button"},"Пароль",-1)),i(v,{id:"password",modelValue:o.password,"onUpdate:modelValue":e[3]||(e[3]=r=>o.password=r),type:m.value?"text":"password",class:g({error:t.password}),placeholder:"Введите пароль",disabled:l.value,onBlur:c,onInput:e[4]||(e[4]=r=>t.password=""),size:"large"},{suffix:_(()=>[i(C,{onClick:e[2]||(e[2]=r=>m.value=!m.value),style:{color:"var(--el-text-color-placeholder)"}},{default:_(()=>[m.value?(n(),V(u(L),{key:0})):(n(),V(u(R),{key:1}))]),_:1})]),_:1},8,["modelValue","type","class","disabled"]),t.password?(n(),d("div",q,k(t.password),1)):y("",!0)]),s("div",H,[i(M,{modelValue:o.rememberMe,"onUpdate:modelValue":e[5]||(e[5]=r=>o.rememberMe=r),disabled:l.value,label:"Запомнить меня",size:"large"},null,8,["modelValue","disabled"]),i(f,{class:"auth__forgot button__second button",to:u(b).i18nRoute({name:"restore"})},{default:_(()=>e[11]||(e[11]=[s("span",null,"Забыли пароль?",-1)])),_:1},8,["to"])])]),s("div",J,[s("button",{class:"form__send button__black button",onClick:x,disabled:l.value,loading:l.value},[l.value?(n(),d("span",W,"Загрузка...")):(n(),d("span",Q,"Войти"))],8,K)])])])])])])])}}});export{he as default};
