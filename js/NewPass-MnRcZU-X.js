import{_ as N}from"./auth-D_GbeW7X.js";import{v as b,h as y}from"./@element-plus-m0wAbjkV.js";import{L as P}from"./Logo-CLC7s5yg.js";import{d as S,Z as k,b as h,c as n,a as e,U as d,aA as $,O as f,I as g,T as V,R as x,ai as C,o as l,M as u,u as v}from"./@vue-DwLU1mub.js";import"./index-BwCOxRC2.js";import"./vue-router-CPimp6oI.js";import"./vue-i18n-DcgfqTZL.js";import"./@intlify-CQT3u4ju.js";import"./vue-tel-input-BsVA42h1.js";import"./element-plus-3NUcAjFf.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-Q_cOxmjC.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Ct2Knyoi.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DF51-gJp.js";const z={class:"auth"},L={class:"auth__container container"},U={class:"auth__block"},I={class:"auth__flex"},A={class:"auth__left"},D={class:"auth__logo"},T={class:"auth__right"},Z={class:"auth__form"},E={class:"form__flex"},F={class:"form__group"},G={key:0,class:"error text_very"},M={class:"form__group"},O={key:0,class:"error text_very"},R={class:"form__buttons"},j=["disabled"],q={key:0},H={key:1},fs=S({__name:"NewPass",setup(J){const o=k({password:"",confirm:""}),t=k({password:"",confirm:""}),c=h(!1),p=h(!1),i=h(!1),w=()=>{let a=!0;if(t.password="",t.confirm="",!o.password)t.password="Пароль обязателен для заполнения",a=!1;else if(o.password.length<6)t.password="Пароль должен содержать минимум 6 символов",a=!1;else{const s=/[A-Z]/.test(o.password),_=/[a-z]/.test(o.password),m=/\d/.test(o.password),r=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(o.password);(!s||!_||!m||!r)&&(t.password="Пароль должен содержать заглавные и строчные буквы, цифры и специальные символы",a=!1)}return o.confirm?o.password!==o.confirm&&(t.confirm="Пароли не совпадают",a=!1):(t.confirm="Подтверждение пароля обязательно",a=!1),a},B=async()=>{if(w()){i.value=!0;try{console.log("Данные формы:",{password:o.password,confirm:o.confirm}),await new Promise(a=>setTimeout(a,1e3)),alert("Пароль успешно изменен!"),o.password="",o.confirm=""}catch(a){console.error("Ошибка при восстановлении пароля:",a),alert("Произошла ошибка при восстановлении пароля. Попробуйте еще раз.")}finally{i.value=!1}}};return(a,s)=>{const _=C("el-icon"),m=C("el-input");return l(),n("section",z,[e("div",L,[e("div",U,[e("div",I,[e("div",A,[e("div",D,[d(P)]),s[6]||(s[6]=$('<div class="auth__image"><img src="'+N+'" alt="cover"></div><div class="auth__info"><h3 class="auth__heading">Стань известным и популярным в мире музыки</h3><p class="auth__description">Выложи трек на все площадки и продавай свою музыку во всем мире</p></div>',2))]),e("div",T,[e("div",Z,[s[9]||(s[9]=e("div",{class:"form__heading"},[e("h1",{class:"form__head title_two"},"Восстановление пароля")],-1)),e("div",E,[e("div",F,[s[7]||(s[7]=e("label",{for:"password",class:"form__label button"},"Новый пароль",-1)),d(m,{id:"password",modelValue:o.password,"onUpdate:modelValue":s[1]||(s[1]=r=>o.password=r),type:c.value?"text":"password",class:g({error:t.password}),placeholder:"Введите новый пароль",disabled:i.value,onBlur:w,onInput:s[2]||(s[2]=r=>t.password=""),size:"large"},{suffix:f(()=>[d(_,{onClick:s[0]||(s[0]=r=>c.value=!c.value),style:{color:"var(--el-text-color-placeholder)",cursor:"pointer"}},{default:f(()=>[c.value?(l(),u(v(b),{key:0})):(l(),u(v(y),{key:1}))]),_:1})]),_:1},8,["modelValue","type","class","disabled"]),t.password?(l(),n("div",G,V(t.password),1)):x("",!0)]),e("div",M,[s[8]||(s[8]=e("label",{for:"confirmPassword",class:"form__label button"},"Повторите пароль",-1)),d(m,{id:"confirmPassword",modelValue:o.confirm,"onUpdate:modelValue":s[4]||(s[4]=r=>o.confirm=r),type:p.value?"text":"password",class:g({error:t.confirm}),placeholder:"Повторите новый пароль",disabled:i.value,onBlur:w,onInput:s[5]||(s[5]=r=>t.confirm=""),size:"large"},{suffix:f(()=>[d(_,{onClick:s[3]||(s[3]=r=>p.value=!p.value),style:{color:"var(--el-text-color-placeholder)",cursor:"pointer"}},{default:f(()=>[p.value?(l(),u(v(b),{key:0})):(l(),u(v(y),{key:1}))]),_:1})]),_:1},8,["modelValue","type","class","disabled"]),t.confirm?(l(),n("div",O,V(t.confirm),1)):x("",!0)])]),e("div",R,[e("button",{class:"form__send button__black button",onClick:B,disabled:i.value},[i.value?(l(),n("span",H,"Загрузка...")):(l(),n("span",q,"восстановить пароль"))],8,j)])])])])])])])}}});export{fs as default};
