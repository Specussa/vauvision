import{_ as g}from"./auth-D_GbeW7X.js";import{T as k}from"./index-DSGPWCca.js";import{L as y}from"./Logo-HrV5Jkez.js";import{B as V}from"./BackSVG-DQlVHE2f.js";import{d as x,b as c,Z as u,c as l,a as t,U as n,aA as B,I as C,T as S,R as p,O as L,u as R,ai as f,o as r}from"./@vue-DwLU1mub.js";import"./vue-router-BeDFSrMD.js";import"./vue-i18n-DcgfqTZL.js";import"./@intlify-CQT3u4ju.js";import"./@element-plus-m0wAbjkV.js";import"./vue-tel-input-BsVA42h1.js";import"./element-plus-D6RlUQ7b.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-Q_cOxmjC.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Ct2Knyoi.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DF51-gJp.js";const w={class:"auth"},E={class:"auth__container container"},N={class:"auth__block"},T={class:"auth__flex"},z={class:"auth__left"},D={class:"auth__logo"},G={class:"auth__right"},I={class:"auth__form"},U={class:"form__flex"},$={class:"form__group"},A={key:0,class:"error text_very"},F={key:1,class:"form__description text_very"},O={class:"form__buttons"},P=["disabled","loading"],Z={key:0},j={key:1},ct=x({__name:"Restore",setup(q){const m=c(!1),a=u({email:""}),o=u({email:""}),i=c(!1),_=()=>{let s=!0;return o.email="",a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email.trim())||(o.email="Введите корректный email адрес",s=!1):(o.email="Email обязателен для заполнения",s=!1),s},v=async()=>{if(_()){i.value=!0;try{console.log("Email для восстановления пароля:",{email:a.email.trim()}),await new Promise(s=>setTimeout(s,1e3)),m.value=!0,alert("Ссылка для восстановления пароля отправлена на ваш email!"),a.email=""}catch(s){console.error("Ошибка при отправке:",s),alert("Произошла ошибка при отправке. Попробуйте еще раз.")}finally{i.value=!1}}};return(s,e)=>{const h=f("el-input"),b=f("RouterLink");return r(),l("section",w,[t("div",E,[t("div",N,[t("div",T,[t("div",z,[t("div",D,[n(y)]),e[2]||(e[2]=B('<div class="auth__image"><img src="'+g+'" alt="cover"></div><div class="auth__info"><h3 class="auth__heading">Стань известным и популярным в мире музыки</h3><p class="auth__description">Выложи трек на все площадки и продавай свою музыку во всем мире</p></div>',2))]),t("div",G,[t("div",I,[e[5]||(e[5]=t("div",{class:"form__heading"},[t("h1",{class:"form__head title_two"},"Восстановление пароля"),t("p",{class:"form__desc title_small"},"Введите e-mail, на который будет отправлена ссылка с восстановлением пароля.")],-1)),t("div",U,[t("div",$,[e[3]||(e[3]=t("label",{for:"email",class:"form__label button"},"E-mail",-1)),n(h,{id:"email",modelValue:a.email,"onUpdate:modelValue":e[0]||(e[0]=d=>a.email=d),type:"email",class:C({error:o.email}),placeholder:"Введите ваш e-mail",disabled:i.value,onBlur:_,onInput:e[1]||(e[1]=d=>o.email=""),size:"large"},null,8,["modelValue","class","disabled"]),o.email?(r(),l("div",A,S(o.email),1)):p("",!0),m.value?(r(),l("p",F," Если у вас есть учётная запись Vauvision, соответствующая этому адресу электронной почты, вы получите ссылку для сброса пароля в течение следующих 10 минут. Если вы её не видите, проверьте папку со спамом. ")):p("",!0)])]),t("div",O,[n(b,{class:"auth__back button__second button",to:R(k).i18nRoute({name:"login"})},{default:L(()=>[t("span",null,[n(V)]),e[4]||(e[4]=t("span",null,"Назад",-1))]),_:1},8,["to"]),t("button",{class:"form__send button__black button",onClick:v,disabled:i.value,loading:i.value},[i.value?(r(),l("span",j,"Загрузка...")):(r(),l("span",Z,"Отправить"))],8,P)])])])])])])])}}});export{ct as default};
