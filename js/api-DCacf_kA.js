import{a as n}from"./axios-BimPEqV4.js";const i=(e,t)=>{localStorage.setItem("access_token",e),localStorage.setItem("refresh_token",t)},l=async(e,t,o)=>{let r=await a(),s={method:e,maxBodyLength:1/0,url:t,headers:{"Content-Type":"application/json","X-CSRFToken":r},withCredentials:!0,data:o};return await n.request(s)},a=async()=>{var e;try{if(!(await fetch("/api/csrf/",{method:"GET",credentials:"include"})).ok)throw new Error("Не удалось получить CSRF-токен");const o=(e=document.cookie.split("; ").find(r=>r.startsWith("csrftoken=")))==null?void 0:e.split("=")[1];if(!o)throw new Error("CSRF-токен не найден в cookie");return o}catch(t){return console.error("Ошибка при получении CSRF-токена:",t),null}};export{i as a,l as s};
