import{o as d,c as u,a as s,d as ae,Z as E,b as h,k as re,U as m,S as ne,I as v,T as b,R as p,P as S,ag as Z,M as L,a2 as $,O as ie,a6 as I,F as de,ai as M}from"./@vue-DwLU1mub.js";import{s as B,F as ue}from"./api-dDMw0Exz.js";import{u as me}from"./vue-router-CPimp6oI.js";import{_ as H,T as _e}from"./index-DLLIllaA.js";import{H as pe,M as ce}from"./Menu-BBq7Y8vQ.js";import{E as i,g as be}from"./element-plus-3NUcAjFf.js";import"./axios-BimPEqV4.js";import"./vue-i18n-DcgfqTZL.js";import"./@intlify-CQT3u4ju.js";import"./@element-plus-m0wAbjkV.js";import"./vue-tel-input-BsVA42h1.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-Q_cOxmjC.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Ct2Knyoi.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DF51-gJp.js";import"./Logo-BjNREyvW.js";import"./ArticlesSVG-Ro8Ohdf6.js";const fe={},ve={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none"};function ge(j,y){return d(),u("svg",ve,y[0]||(y[0]=[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.69882 3.365C5.89894 2.38259 6.77316 1.6875 7.77475 1.6875H10.2252C11.2268 1.6875 12.1011 2.38259 12.3012 3.36499C12.3474 3.59178 12.5528 3.75814 12.7665 3.75814H12.7788L12.7911 3.75868C13.8437 3.80471 14.6521 3.93387 15.3271 4.37668C15.7524 4.65568 16.1182 5.01463 16.4033 5.43348C16.7579 5.9546 16.9143 6.55271 16.9893 7.27609C17.0625 7.98284 17.0625 8.86875 17.0625 9.99079V10.0547C17.0625 11.1767 17.0625 12.0626 16.9893 12.7694C16.9143 13.4927 16.7579 14.0909 16.4033 14.612C16.1182 15.0308 15.7524 15.3898 15.3271 15.6688C14.7995 16.0149 14.1947 16.1675 13.461 16.2408C12.7428 16.3125 11.8418 16.3125 10.6976 16.3125H7.30242C6.15824 16.3125 5.25725 16.3125 4.53897 16.2408C3.80534 16.1675 3.20049 16.0149 2.67289 15.6688C2.24761 15.3898 1.88179 15.0308 1.59674 14.612C1.24209 14.0909 1.08567 13.4927 1.01072 12.7694C0.937488 12.0626 0.937494 11.1767 0.9375 10.0547V9.9908C0.937494 8.86875 0.937488 7.98284 1.01072 7.27609C1.08567 6.55271 1.24209 5.9546 1.59674 5.43348C1.88179 5.01463 2.24761 4.65568 2.67289 4.37668C3.34787 3.93387 4.15635 3.80471 5.20892 3.75868L5.2212 3.75814H5.2335C5.44716 3.75814 5.65262 3.59179 5.69882 3.365ZM7.77475 2.8125C7.29392 2.8125 6.89179 3.14475 6.80118 3.58955C6.65443 4.30994 6.01575 4.8764 5.24725 4.88308C4.23579 4.92802 3.69402 5.05227 3.28998 5.31733C2.98732 5.51589 2.72814 5.77058 2.52679 6.06643C2.31968 6.37076 2.19522 6.75994 2.12973 7.39203C2.06321 8.03405 2.0625 8.8617 2.0625 10.0227C2.0625 11.1838 2.06321 12.0114 2.12973 12.6534C2.19522 13.2855 2.31968 13.6747 2.5268 13.979C2.72814 14.2749 2.98732 14.5296 3.28998 14.7281C3.60313 14.9336 4.00383 15.0567 4.65078 15.1213C5.30662 15.1868 6.15145 15.1875 7.33333 15.1875H10.6667C11.8486 15.1875 12.6934 15.1868 13.3492 15.1213C13.9962 15.0567 14.3969 14.9336 14.71 14.7281C15.0127 14.5296 15.2719 14.2749 15.4732 13.979C15.6803 13.6747 15.8048 13.2855 15.8703 12.6534C15.9368 12.0114 15.9375 11.1838 15.9375 10.0227C15.9375 8.8617 15.9368 8.03405 15.8703 7.39203C15.8048 6.75994 15.6803 6.37076 15.4732 6.06643C15.2719 5.77058 15.0127 5.51589 14.71 5.31733C14.306 5.05227 13.7642 4.92802 12.7528 4.88308C11.9843 4.8764 11.3456 4.30994 11.1988 3.58955C11.1082 3.14475 10.7061 2.8125 10.2252 2.8125H7.77475ZM9 8.0625C8.06802 8.0625 7.3125 8.81802 7.3125 9.75C7.3125 10.682 8.06802 11.4375 9 11.4375C9.93198 11.4375 10.6875 10.682 10.6875 9.75C10.6875 8.81802 9.93198 8.0625 9 8.0625ZM6.1875 9.75C6.1875 8.1967 7.4467 6.9375 9 6.9375C10.5533 6.9375 11.8125 8.1967 11.8125 9.75C11.8125 11.3033 10.5533 12.5625 9 12.5625C7.4467 12.5625 6.1875 11.3033 6.1875 9.75ZM12.9375 7.5C12.9375 7.18934 13.1893 6.9375 13.5 6.9375H14.25C14.5607 6.9375 14.8125 7.18934 14.8125 7.5C14.8125 7.81066 14.5607 8.0625 14.25 8.0625H13.5C13.1893 8.0625 12.9375 7.81066 12.9375 7.5Z",fill:"currentColor"},null,-1)]))}const ke=H(fe,[["render",ge]]),ye={},Ce={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"};function he(j,y){return d(),u("svg",Ce,y[0]||(y[0]=[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.0003 1.04102C10.1828 1.04102 10.3561 1.12074 10.4749 1.25927L12.9749 4.17594C13.1995 4.43802 13.1691 4.83258 12.9071 5.05722C12.645 5.28186 12.2504 5.25151 12.0258 4.98943L10.6253 3.35555L10.6253 12.4993C10.6253 12.8445 10.3455 13.1243 10.0003 13.1243C9.65515 13.1243 9.37533 12.8445 9.37533 12.4993L9.37533 3.35555L7.97486 4.98943C7.75022 5.25151 7.35566 5.28186 7.09358 5.05722C6.8315 4.83258 6.80115 4.43802 7.02579 4.17594L9.52579 1.25927C9.64453 1.12074 9.81787 1.04102 10.0003 1.04102ZM5.83018 6.87599C6.17535 6.87406 6.45673 7.15232 6.45865 7.4975C6.46057 7.84267 6.18231 8.12404 5.83714 8.12597C4.92589 8.13104 4.27999 8.1547 3.78978 8.24475C3.31744 8.33151 3.04405 8.47082 2.84117 8.6737C2.61053 8.90434 2.46016 9.22815 2.37795 9.83963C2.29332 10.4691 2.29199 11.3033 2.29199 12.4995V13.3329C2.29199 14.529 2.29332 15.3633 2.37795 15.9928C2.46016 16.6042 2.61053 16.9281 2.84117 17.1587C3.0718 17.3893 3.39561 17.5397 4.00709 17.6219C4.63655 17.7065 5.47081 17.7079 6.66699 17.7079H13.3337C14.5298 17.7079 15.3641 17.7065 15.9936 17.6219C16.605 17.5397 16.9289 17.3893 17.1595 17.1587C17.3901 16.9281 17.5405 16.6042 17.6227 15.9928C17.7073 15.3633 17.7087 14.529 17.7087 13.3329V12.4995C17.7087 11.3033 17.7073 10.4691 17.6227 9.83963C17.5405 9.22815 17.3901 8.90434 17.1595 8.6737C16.9566 8.47082 16.6832 8.33151 16.2109 8.24475C15.7207 8.1547 15.0748 8.13104 14.1635 8.12597C13.8183 8.12404 13.5401 7.84267 13.542 7.4975C13.5439 7.15232 13.8253 6.87406 14.1705 6.87599C15.0717 6.881 15.8229 6.90257 16.4367 7.01532C17.0684 7.13134 17.6059 7.35238 18.0434 7.78982C18.545 8.29142 18.7607 8.92298 18.8616 9.67307C18.9587 10.3955 18.9587 11.3141 18.9587 12.4538V13.3786C18.9587 14.5182 18.9587 15.4368 18.8616 16.1593C18.7607 16.9094 18.545 17.541 18.0434 18.0426C17.5418 18.5442 16.9102 18.7599 16.1601 18.8608C15.4376 18.9579 14.519 18.9579 13.3794 18.9579H6.62127C5.48161 18.9579 4.56301 18.9579 3.84053 18.8608C3.09044 18.7599 2.45888 18.5442 1.95728 18.0426C1.45569 17.541 1.23994 16.9094 1.1391 16.1593C1.04196 15.4368 1.04198 14.5182 1.04199 13.3786V12.4538C1.04198 11.3141 1.04196 10.3955 1.1391 9.67307C1.23994 8.92298 1.45569 8.29142 1.95728 7.78982C2.39473 7.35238 2.93229 7.13134 3.56395 7.01532C4.17775 6.90257 4.92891 6.881 5.83018 6.87599Z",fill:"currentColor"},null,-1)]))}const Ve=H(ye,[["render",he]]),De={class:"personal"},Ne={class:"container personal__container"},we={class:"personal__block"},xe={class:"setting__flex"},Me={class:"setting__content"},Be={class:"setting__photo"},ze={class:"setting__photo_flex"},Ue={class:"setting__photo_image"},Pe=["src"],Te={key:1,class:"setting__photo_img"},Ee={class:"setting__photo_svg"},Le={class:"setting__photo_info"},$e=["disabled"],Ie={key:0},He={key:1},je=["disabled"],Fe=["disabled"],Se={class:"setting__personal"},Ze={class:"setting__personal_flex"},Ae={class:"form__group"},Re={key:0,class:"error text_very"},Ye={class:"form__group"},Ge={key:0,class:"error text_very"},Oe={class:"setting__personal_buttons"},qe=["disabled"],Ke={key:0},We={key:1},Je={class:"setting__general"},Qe={class:"setting__general_flex"},Xe={class:"form__group"},es={key:0,class:"error text_very"},ss={class:"form__group"},ls={key:0,class:"error text_very"},ts={class:"form__group"},os={key:0,class:"error text_very"},as={class:"setting__general_buttons"},rs=["disabled"],ns={key:0},is={key:1},ds={class:"setting__passport"},us={class:"setting__passport_buttons"},ms=["disabled"],_s={class:"setting__password"},ps={class:"setting__password_buttons"},cs=["disabled"],bs={class:"setting__details"},fs={class:"setting__details_flex"},vs={class:"form__labels"},gs={class:"form__label"},ks=["disabled"],ys={class:"form__label"},Cs=["disabled"],hs={class:"form__groups"},Vs={class:"form__group"},Ds={key:0,class:"error text_very"},Ns={class:"form__group"},ws={key:0,class:"error text_very"},xs={class:"form__group"},Ms={key:0,class:"error text_very"},Bs={key:0,class:"form__group"},zs={key:0,class:"error text_very"},Us={key:1,class:"form__group"},Ps={key:0,class:"error text_very"},Ts={class:"setting__details_buttons"},Es=["disabled"],Ls={key:0},$s={key:1},Is={class:"setting__delete"},Hs={class:"setting__delete_buttons"},js=["disabled"],Fs={class:"passport-modal"},Ss={class:"passport-modal__content"},Zs={class:"passport-modal__grid"},As={class:"passport-modal__column"},Rs={class:"form__group"},Ys={class:"form__group"},Gs={class:"form__group"},Os={class:"form__group"},qs={class:"passport-modal__column"},Ks={class:"form__group"},Ws={class:"form__group"},Js={class:"form__group"},Qs={class:"form__group"},Xs={class:"passport-modal__footer"},el=["disabled"],sl=["disabled"],ll={key:0},tl={key:1},ol={class:"modal modal--small"},al={class:"modal__content"},rl={class:"modal__info"},nl={class:"modal__email"},il={class:"modal__footer"},dl=["disabled"],ul=["disabled"],ml={key:0},_l={key:1},pl={class:"modal modal--small"},cl={class:"modal__content"},bl={class:"form__group"},fl={class:"modal__footer"},vl=["disabled"],gl=["disabled"],kl={key:0},yl={key:1},Cl=ae({__name:"Setting",setup(j){const y=me(),r=E({firstName:"",lastName:"",nickname:"",email:"",country:"",passport:{series:"",number:"",issuedBy:"",issueDate:"",birthDate:"",registrationAddress:""},bankDetails:{userType:"executor",fullName:"",accountNumber:"",bik:"",inn:"",kpp:"",bankName:"",correspondentAccount:""}}),o=E({firstName:"",lastName:"",nickname:"",email:"",country:"",password:"",confirmPassword:"",passport:{},bankDetails:{}}),a=h(!1),V=h(null),D=h(!1),z=h(!1),U=h(!1),P=h(!1),n=E({citizenship:"",issuedBy:"",fam:"",imya:"",otch:"",number:"",date:"",adress:""}),C=h(""),A=l=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l),f=l=>{(!l||l==="firstName")&&(o.firstName=r.firstName?"":"Имя обязательно для заполнения"),(!l||l==="lastName")&&(o.lastName=r.lastName?"":"Фамилия обязательна для заполнения"),(!l||l==="nickname")&&(o.nickname=r.nickname?"":"Псевдоним обязателен для заполнения"),(!l||l==="email")&&(r.email?A(r.email)?o.email="":o.email="Введите корректный email":o.email="Email обязателен для заполнения"),(!l||l==="country")&&(o.country=r.country?"":"Страна обязательна для заполнения")},N=()=>{const l={};return r.bankDetails.fullName||(l.fullName="ФИО обязательно"),r.bankDetails.accountNumber||(l.accountNumber="Расчетный счет обязателен"),r.bankDetails.bik||(l.bik="БИК банка обязателен"),r.bankDetails.userType==="label"&&(r.bankDetails.inn||(l.inn="ИНН обязательно для ИП"),r.bankDetails.kpp||(l.kpp="КПП обязательно для ИП"),r.bankDetails.bankName||(l.bankName="Название банка обязательно")),o.bankDetails=l,Object.keys(l).length===0},R=re(()=>Object.values(o).some(l=>typeof l=="string"?l.length>0:!1)),Y=()=>{K(),z.value=!0,document.documentElement.classList.add("noscroll")},G=()=>{U.value=!0,document.documentElement.classList.add("noscroll")},O=()=>{C.value="",P.value=!0,document.documentElement.classList.add("noscroll")},T=()=>{z.value=!1,document.documentElement.classList.remove("noscroll")},w=()=>{U.value=!1,document.documentElement.classList.remove("noscroll")},x=()=>{P.value=!1,C.value="",document.documentElement.classList.remove("noscroll")},q=()=>{n.citizenship="",n.issuedBy="",n.fam="",n.imya="",n.otch="",n.number="",n.date="",n.adress="",i.success("Форма очищена")},K=()=>{n.citizenship="Россия",n.issuedBy="УФМС России по г. Москва",n.fam="Иванов",n.imya="Иван",n.otch="Иванович",n.number="1234 567890",n.date="15.05.2015",n.adress="г. Москва, ул. Примерная, д. 1, кв. 1"},W=async()=>{if(!n.fam||!n.imya||!n.number){i.error("Заполните обязательные поля (фамилия, имя, серия и номер)");return}a.value=!0;try{const l={"citysenship-profile-others":n.citizenship,"issued-profile":n.issuedBy,fam:n.fam,"number-profile":n.number,imya:n.imya,"date-profile":n.date,otch:n.otch,"adress-profile":n.adress},e=await B("post","/ajax/profile/updatePassport.php",l);console.log("Паспортные данные сохранены:",e.data),i.success("Паспортные данные сохранены успешно"),T()}catch(l){if(console.error("Ошибка при сохранении паспортных данных:",l),l.response&&l.response.data){const e=l.response.data;e.error?i.error(e.error):e.message?i.error(e.message):i.error("Ошибка при сохранении данных")}else i.error("Ошибка при сохранении данных")}finally{a.value=!1}},J=async()=>{if(!r.email){i.error("Email не указан. Пожалуйста, заполните email в общих данных"),w();return}a.value=!0;try{const l=await B("post","/ajax/auth/mailPass.php",{email:r.email});console.log("Запрос на смену пароля отправлен:",l.data),i.success("Ссылка для изменения пароля отправлена на вашу почту"),w()}catch(l){if(console.error("Ошибка при запросе смены пароля:",l),l.response&&l.response.data){const e=l.response.data;e.error?i.error(e.error):e.message?i.error(e.message):i.error("Ошибка при отправке запроса")}else i.error("Ошибка при отправке запроса")}finally{a.value=!1}},Q=async()=>{if(C.value!=="УДАЛИТЬ"){i.error('Введите "УДАЛИТЬ" для подтверждения');return}a.value=!0;try{const l=await B("post","/ajax/profile/deleteProfile.php",{confirmation:C.value});console.log("Аккаунт удален:",l.data),i.success("Аккаунт успешно удален"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user-locale"),setTimeout(()=>{y.push(_e.i18nRoute({name:"register"}))},1500)}catch(l){if(console.error("Ошибка при удалении аккаунта:",l),l.response&&l.response.data){const e=l.response.data;e.error?i.error(e.error):e.message?i.error(e.message):i.error("Ошибка при удалении аккаунта")}else i.error("Ошибка при удалении аккаунта")}finally{a.value=!1,x()}},X=async()=>{if(f("firstName"),f("lastName"),o.firstName||o.lastName){i.error("Исправьте ошибки в форме");return}a.value=!0;try{const l={"alias-profile-name":r.firstName.trim(),"profile-sec-name":r.lastName.trim()},e=await B("post","/ajax/profile/updateName.php",l);console.log("Имя и фамилия сохранены:",e.data),i.success("Личные данные сохранены успешно")}catch(l){if(console.error("Ошибка при сохранении данных:",l),l.response&&l.response.data){const e=l.response.data;e["alias-profile-name"]&&(o.firstName=Array.isArray(e["alias-profile-name"])?e["alias-profile-name"][0]:e["alias-profile-name"]),e["profile-sec-name"]&&(o.lastName=Array.isArray(e["profile-sec-name"])?e["profile-sec-name"][0]:e["profile-sec-name"]),e.error?i.error(e.error):e.message?i.error(e.message):e.detail&&i.error(e.detail)}else i.error("Ошибка при сохранении данных")}finally{a.value=!1}},ee=async()=>{if(f("nickname"),f("email"),f("country"),o.nickname||o.email||o.country){i.error("Исправьте ошибки в форме");return}a.value=!0;try{await new Promise(l=>setTimeout(l,1e3)),i.success("Общие данные сохранены успешно")}catch{i.error("Ошибка при сохранении данных")}finally{a.value=!1}},se=async()=>{if(!N()){i.error("Исправьте ошибки в банковских данных");return}a.value=!0;try{await new Promise(l=>setTimeout(l,1e3)),i.success("Банковские данные сохранены успешно")}catch{i.error("Ошибка при сохранении банковских данных")}finally{a.value=!1}},le=async l=>{var g;const e=l.target,_=(g=e.files)==null?void 0:g[0];if(_){if(!_.type.startsWith("image/")){i.error("Пожалуйста, выберите изображение");return}if(_.size>5*1024*1024){i.error("Размер файла не должен превышать 5MB");return}D.value=!0;try{const k=new FormData;k.append("personal-photo",_);const c=await ue("post","/ajax/profile/avatar.php",k);if(console.log("Фото загружено:",c.data),c.data&&c.data.url)V.value=c.data.url;else{const t=new FileReader;t.onload=oe=>{var F;V.value=(F=oe.target)==null?void 0:F.result},t.readAsDataURL(_)}i.success("Фото профиля загружено успешно")}catch(k){if(console.error("Ошибка при загрузке фото:",k),k.response&&k.response.data){const c=k.response.data;c.error?i.error(c.error):c.message?i.error(c.message):i.error("Ошибка при загрузке фото")}else i.error("Ошибка при загрузке фото")}finally{D.value=!1,e.value=""}}},te=()=>{be.confirm("Вы уверены, что хотите удалить фото профиля?","Удаление фото",{confirmButtonText:"Удалить",cancelButtonText:"Отмена",type:"warning"}).then(()=>{V.value=null,i.success("Фото профиля удалено")}).catch(()=>{})};return(()=>{r.firstName="Иван",r.lastName="Иванов",r.nickname="artist123",r.email="user@example.com",r.country="Россия"})(),(l,e)=>{const _=M("el-input"),g=M("el-option"),k=M("el-select"),c=M("el-date-picker");return d(),u(de,null,[m(pe),s("section",De,[s("div",Ne,[m(ce),s("div",we,[e[60]||(e[60]=s("div",{class:"setting__top"},[s("h3",{class:"setting__head"},"настройки профиля"),s("p",{class:"setting__desc"},"Измените данные или настройки профиля.")],-1)),s("div",xe,[s("div",Me,[s("div",Be,[e[33]||(e[33]=s("h5",{class:"setting__photo_heading"},"Фото профиля",-1)),s("div",ze,[s("div",Ue,[V.value?(d(),u("img",{key:0,src:V.value,class:"setting__photo_img",alt:"Profile"},null,8,Pe)):(d(),u("div",Te,e[31]||(e[31]=[s("span",{style:{color:"#909399"}},"No photo",-1)]))),s("div",Ee,[m(ke)])]),s("div",Le,[s("label",{class:"setting__photo_upload button__primary",disabled:D.value},[D.value?(d(),u("span",He,"Загрузка...")):(d(),u("span",Ie,[m(Ve),e[32]||(e[32]=ne("Загрузить фото"))])),s("input",{type:"file",accept:"image/*",onChange:le,style:{display:"none"},disabled:D.value},null,40,je)],8,$e),s("button",{class:"setting__photo_delete",onClick:te,disabled:!V.value||D.value}," Удалить фото ",8,Fe)])])]),s("div",Se,[e[36]||(e[36]=s("h5",{class:"setting__personal_heading"},"Личные данные",-1)),s("div",Ze,[s("div",Ae,[e[34]||(e[34]=s("label",{for:"firstName",class:"form__label button"},"Имя",-1)),m(_,{id:"firstName",modelValue:r.firstName,"onUpdate:modelValue":e[0]||(e[0]=t=>r.firstName=t),class:v({error:o.firstName}),placeholder:"Имя",disabled:a.value,onBlur:e[1]||(e[1]=t=>f("firstName")),onInput:e[2]||(e[2]=t=>o.firstName=""),size:"large"},null,8,["modelValue","class","disabled"]),o.firstName?(d(),u("div",Re,b(o.firstName),1)):p("",!0)]),s("div",Ye,[e[35]||(e[35]=s("label",{for:"lastName",class:"form__label button"},"Фамилия",-1)),m(_,{id:"lastName",modelValue:r.lastName,"onUpdate:modelValue":e[3]||(e[3]=t=>r.lastName=t),class:v({error:o.lastName}),placeholder:"Фамилия",disabled:a.value,onBlur:e[4]||(e[4]=t=>f("lastName")),onInput:e[5]||(e[5]=t=>o.lastName=""),size:"large"},null,8,["modelValue","class","disabled"]),o.lastName?(d(),u("div",Ge,b(o.lastName),1)):p("",!0)])]),s("div",Oe,[s("button",{class:"setting__personal_button button__primary",onClick:X,disabled:a.value||R.value},[a.value?(d(),u("span",We,"Сохранение...")):(d(),u("span",Ke,"сохранить изменения"))],8,qe)])]),s("div",Je,[e[40]||(e[40]=s("h5",{class:"setting__general_heading"},"Общие данные",-1)),s("div",Qe,[s("div",Xe,[e[37]||(e[37]=s("label",{for:"nickname",class:"form__label button"},"Псевдоним",-1)),m(_,{id:"nickname",modelValue:r.nickname,"onUpdate:modelValue":e[6]||(e[6]=t=>r.nickname=t),class:v({error:o.nickname}),placeholder:"Псевдоним",disabled:a.value,onBlur:e[7]||(e[7]=t=>f("nickname")),onInput:e[8]||(e[8]=t=>o.nickname=""),size:"large"},null,8,["modelValue","class","disabled"]),o.nickname?(d(),u("div",es,b(o.nickname),1)):p("",!0)]),s("div",ss,[e[38]||(e[38]=s("label",{for:"email",class:"form__label button"},"E-mail",-1)),m(_,{id:"email",modelValue:r.email,"onUpdate:modelValue":e[9]||(e[9]=t=>r.email=t),type:"email",class:v({error:o.email}),placeholder:"e-mail",disabled:a.value,onBlur:e[10]||(e[10]=t=>f("email")),onInput:e[11]||(e[11]=t=>o.email=""),size:"large"},null,8,["modelValue","class","disabled"]),o.email?(d(),u("div",ls,b(o.email),1)):p("",!0)]),s("div",ts,[e[39]||(e[39]=s("label",{for:"country",class:"form__label button"},"Страна",-1)),m(_,{id:"country",modelValue:r.country,"onUpdate:modelValue":e[12]||(e[12]=t=>r.country=t),class:v({error:o.country}),placeholder:"страна",disabled:a.value,onBlur:e[13]||(e[13]=t=>f("country")),onInput:e[14]||(e[14]=t=>o.country=""),size:"large"},null,8,["modelValue","class","disabled"]),o.country?(d(),u("div",os,b(o.country),1)):p("",!0)])]),s("div",as,[s("button",{class:"setting__general_button button__primary",onClick:ee,disabled:a.value},[a.value?(d(),u("span",is,"Сохранение...")):(d(),u("span",ns,"сохранить изменения"))],8,rs)])]),s("div",ds,[e[42]||(e[42]=s("h5",{class:"setting__passport_heading"},"данные паспорта",-1)),e[43]||(e[43]=s("p",{class:"setting__passport_desc"},"Введите данные для отображения в вашем договоре при выкладке релиза. Данные вашего паспорта скрыты для просмотра, но вы можете обновить их в любое время по кнопке «Изменить».",-1)),s("div",us,[s("button",{class:"setting__passport_button button__primary",onClick:Y,disabled:a.value},e[41]||(e[41]=[s("span",null,"изменить",-1)]),8,ms)])]),s("div",_s,[e[45]||(e[45]=s("h5",{class:"setting__password_heading"},"Смена пароля",-1)),e[46]||(e[46]=s("p",{class:"setting__password_desc"},"Для изменения пароля мы отправим ссылку на вашу электронную почту.",-1)),s("div",ps,[s("button",{class:"setting__password_button button__primary",onClick:G,disabled:a.value},e[44]||(e[44]=[s("span",null,"изменить пароль",-1)]),8,cs)])]),s("div",bs,[e[54]||(e[54]=s("h5",{class:"setting__details_heading"},"Банковские данные",-1)),e[55]||(e[55]=s("p",{class:"setting__details_description"},"Вы можете заполнить только раздел Физ. лица или Индивидуального предпринимателя. При заполнении одного раздела информация в другом будет удалена.",-1)),s("div",fs,[s("div",vs,[s("label",gs,[S(s("input",{type:"radio","onUpdate:modelValue":e[15]||(e[15]=t=>r.bankDetails.userType=t),value:"executor",class:"form__label_input",disabled:a.value},null,8,ks),[[Z,r.bankDetails.userType]]),e[47]||(e[47]=s("span",{class:"form__label_text"},"Физическое лицо",-1))]),s("label",ys,[S(s("input",{type:"radio","onUpdate:modelValue":e[16]||(e[16]=t=>r.bankDetails.userType=t),value:"label",class:"form__label_input",disabled:a.value},null,8,Cs),[[Z,r.bankDetails.userType]]),e[48]||(e[48]=s("span",{class:"form__label_text"},"Индивидуальный предприниматель",-1))])]),s("div",hs,[s("div",Vs,[e[49]||(e[49]=s("label",{for:"fullName",class:"form__label button"},"ФИО",-1)),m(_,{id:"fullName",modelValue:r.bankDetails.fullName,"onUpdate:modelValue":e[17]||(e[17]=t=>r.bankDetails.fullName=t),class:v({error:o.bankDetails.fullName}),placeholder:"ФИО",disabled:a.value,onBlur:N,size:"large"},null,8,["modelValue","class","disabled"]),o.bankDetails.fullName?(d(),u("div",Ds,b(o.bankDetails.fullName),1)):p("",!0)]),s("div",Ns,[e[50]||(e[50]=s("label",{for:"accountNumber",class:"form__label button"},"Расчетный счет",-1)),m(_,{id:"accountNumber",modelValue:r.bankDetails.accountNumber,"onUpdate:modelValue":e[18]||(e[18]=t=>r.bankDetails.accountNumber=t),class:v({error:o.bankDetails.accountNumber}),placeholder:"Расчетный счет",disabled:a.value,onBlur:N,size:"large"},null,8,["modelValue","class","disabled"]),o.bankDetails.accountNumber?(d(),u("div",ws,b(o.bankDetails.accountNumber),1)):p("",!0)]),s("div",xs,[e[51]||(e[51]=s("label",{for:"bik",class:"form__label button"},"БИК банка",-1)),m(_,{id:"bik",modelValue:r.bankDetails.bik,"onUpdate:modelValue":e[19]||(e[19]=t=>r.bankDetails.bik=t),class:v({error:o.bankDetails.bik}),placeholder:"БИК банка",disabled:a.value,onBlur:N,size:"large"},null,8,["modelValue","class","disabled"]),o.bankDetails.bik?(d(),u("div",Ms,b(o.bankDetails.bik),1)):p("",!0)]),r.bankDetails.userType==="label"?(d(),u("div",Bs,[e[52]||(e[52]=s("label",{for:"inn",class:"form__label button"},"ИНН",-1)),m(_,{id:"inn",modelValue:r.bankDetails.inn,"onUpdate:modelValue":e[20]||(e[20]=t=>r.bankDetails.inn=t),class:v({error:o.bankDetails.inn}),placeholder:"ИНН",disabled:a.value,onBlur:N,size:"large"},null,8,["modelValue","class","disabled"]),o.bankDetails.inn?(d(),u("div",zs,b(o.bankDetails.inn),1)):p("",!0)])):p("",!0),r.bankDetails.userType==="label"?(d(),u("div",Us,[e[53]||(e[53]=s("label",{for:"kpp",class:"form__label button"},"КПП",-1)),m(_,{id:"kpp",modelValue:r.bankDetails.kpp,"onUpdate:modelValue":e[21]||(e[21]=t=>r.bankDetails.kpp=t),class:v({error:o.bankDetails.kpp}),placeholder:"КПП",disabled:a.value,onBlur:N,size:"large"},null,8,["modelValue","class","disabled"]),o.bankDetails.kpp?(d(),u("div",Ps,b(o.bankDetails.kpp),1)):p("",!0)])):p("",!0)])]),s("div",Ts,[s("button",{class:"setting__details_button button__primary",onClick:se,disabled:a.value},[a.value?(d(),u("span",$s,"Сохранение...")):(d(),u("span",Ls,"сохранить изменения"))],8,Es)])]),s("div",Is,[e[57]||(e[57]=s("h5",{class:"setting__delete_heading"},"удаление аккаунта",-1)),e[58]||(e[58]=s("p",{class:"setting__delete_desc"},"Если захочешь восстановить аккаунт, можешь написать нам в группу VK или Телеграмм.",-1)),s("div",Hs,[s("button",{class:"setting__delete_button button__primary",onClick:O,disabled:a.value,style:{"background-color":"#f56c6c","border-color":"#f56c6c"}},e[56]||(e[56]=[s("span",null,"удалить",-1)]),8,js)])])]),e[59]||(e[59]=s("div",{class:"setting__right"},null,-1))])])])]),(d(),L(I,{to:"body"},[z.value?(d(),u("div",{key:0,class:"passport-modal-overlay",onClick:$(T,["self"])},[s("div",Fs,[s("div",{class:"passport-modal__header"},[e[61]||(e[61]=s("h3",{class:"passport-modal__title"},"Паспортные данные",-1)),s("button",{class:"passport-modal__close",onClick:T},"×")]),s("div",Ss,[s("div",Zs,[s("div",As,[s("div",Rs,[e[62]||(e[62]=s("label",{class:"form__label button"},"Гражданство",-1)),m(k,{modelValue:n.citizenship,"onUpdate:modelValue":e[22]||(e[22]=t=>n.citizenship=t),placeholder:"Выберите гражданство",disabled:a.value,size:"large",class:"passport-select",clearable:""},{default:ie(()=>[m(g,{label:"Россия",value:"Россия"}),m(g,{label:"Беларусь",value:"Беларусь"}),m(g,{label:"Казахстан",value:"Казахстан"}),m(g,{label:"Армения",value:"Армения"}),m(g,{label:"Кыргызстан",value:"Кыргызстан"}),m(g,{label:"Другое",value:"Другое"})]),_:1},8,["modelValue","disabled"])]),s("div",Ys,[e[63]||(e[63]=s("label",{class:"form__label button"},"Кем выдан",-1)),m(_,{modelValue:n.issuedBy,"onUpdate:modelValue":e[23]||(e[23]=t=>n.issuedBy=t),placeholder:"Кем выдан паспорт",disabled:a.value,size:"large"},null,8,["modelValue","disabled"])]),s("div",Gs,[e[64]||(e[64]=s("label",{class:"form__label button"},"Фамилия",-1)),m(_,{modelValue:n.fam,"onUpdate:modelValue":e[24]||(e[24]=t=>n.fam=t),placeholder:"Фамилия",disabled:a.value,size:"large"},null,8,["modelValue","disabled"])]),s("div",Os,[e[65]||(e[65]=s("label",{class:"form__label button"},"Имя",-1)),m(_,{modelValue:n.imya,"onUpdate:modelValue":e[25]||(e[25]=t=>n.imya=t),placeholder:"Имя",disabled:a.value,size:"large"},null,8,["modelValue","disabled"])])]),s("div",qs,[s("div",Ks,[e[66]||(e[66]=s("label",{class:"form__label button"},"Отчество",-1)),m(_,{modelValue:n.otch,"onUpdate:modelValue":e[26]||(e[26]=t=>n.otch=t),placeholder:"Отчество",disabled:a.value,size:"large"},null,8,["modelValue","disabled"])]),s("div",Ws,[e[67]||(e[67]=s("label",{class:"form__label button"},"Серия и номер паспорта",-1)),m(_,{modelValue:n.number,"onUpdate:modelValue":e[27]||(e[27]=t=>n.number=t),placeholder:"0000 000000",disabled:a.value,size:"large"},null,8,["modelValue","disabled"])]),s("div",Js,[e[68]||(e[68]=s("label",{class:"form__label button"},"Дата выдачи",-1)),m(c,{modelValue:n.date,"onUpdate:modelValue":e[28]||(e[28]=t=>n.date=t),type:"date",placeholder:"Выберите дату",format:"DD.MM.YYYY","value-format":"DD.MM.YYYY",disabled:a.value,size:"large",class:"passport-datepicker"},null,8,["modelValue","disabled"])]),s("div",Qs,[e[69]||(e[69]=s("label",{class:"form__label button"},"Адрес регистрации",-1)),m(_,{modelValue:n.adress,"onUpdate:modelValue":e[29]||(e[29]=t=>n.adress=t),placeholder:"Адрес регистрации",disabled:a.value,size:"large"},null,8,["modelValue","disabled"])])])])]),s("div",Xs,[s("button",{class:"passport-modal__button passport-modal__button--clear",onClick:q,disabled:a.value}," очистить ",8,el),s("button",{class:"passport-modal__button passport-modal__button--save",onClick:W,disabled:a.value},[a.value?(d(),u("span",tl,"Сохранение...")):(d(),u("span",ll,"сохранить изменения"))],8,sl)])])])):p("",!0)])),(d(),L(I,{to:"body"},[U.value?(d(),u("div",{key:0,class:"modal-overlay",onClick:$(w,["self"])},[s("div",ol,[s("div",{class:"modal__header"},[e[70]||(e[70]=s("h3",{class:"modal__title"},"Смена пароля",-1)),s("button",{class:"modal__close",onClick:w},"×")]),s("div",al,[s("div",rl,[e[71]||(e[71]=s("p",null,"Ссылка для изменения пароля будет отправлена на вашу электронную почту:",-1)),s("p",nl,b(r.email||"не указан"),1),e[72]||(e[72]=s("p",{class:"modal__hint"},'Письмо придет в течение нескольких минут. Проверьте папку "Спам", если не видите письмо во входящих.',-1))])]),s("div",il,[s("button",{class:"modal__button modal__button--clear",onClick:w,disabled:a.value}," отмена ",8,dl),s("button",{class:"modal__button modal__button--save",onClick:J,disabled:a.value},[a.value?(d(),u("span",_l,"Отправка...")):(d(),u("span",ml,"отправить ссылку"))],8,ul)])])])):p("",!0)])),(d(),L(I,{to:"body"},[P.value?(d(),u("div",{key:0,class:"modal-overlay",onClick:$(x,["self"])},[s("div",pl,[s("div",{class:"modal__header"},[e[73]||(e[73]=s("h3",{class:"modal__title"},"Удаление аккаунта",-1)),s("button",{class:"modal__close",onClick:x},"×")]),s("div",cl,[e[75]||(e[75]=s("div",{class:"modal__warning"},[s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"#f56c6c","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),s("path",{d:"M12 8V12",stroke:"#f56c6c","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),s("path",{d:"M12 16H12.01",stroke:"#f56c6c","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),s("div",{class:"modal__warning-text"},[s("h4",null,"Внимание! Это действие нельзя отменить"),s("p",null,"Все ваши данные будут удалены без возможности восстановления.")])],-1)),s("div",bl,[e[74]||(e[74]=s("label",{class:"form__label button"},"Подтверждение",-1)),m(_,{modelValue:C.value,"onUpdate:modelValue":e[30]||(e[30]=t=>C.value=t),placeholder:"Введите 'УДАЛИТЬ' для подтверждения",disabled:a.value,size:"large"},null,8,["modelValue","disabled"])])]),s("div",fl,[s("button",{class:"modal__button modal__button--clear",onClick:x,disabled:a.value}," отмена ",8,vl),s("button",{class:"modal__button modal__button--delete",onClick:Q,disabled:a.value||C.value!=="УДАЛИТЬ"},[a.value?(d(),u("span",yl,"Удаление...")):(d(),u("span",kl,"удалить аккаунт"))],8,gl)])])])):p("",!0)]))],64)}}}),Yl=H(Cl,[["__scopeId","data-v-476d9d67"]]);export{Yl as default};
