import{d as G,b as T,Z as x,c as n,a as s,U as _,aA as M,O as N,u as w,I as f,T as c,R as v,P as S,ag as U,ai as P,o as r,M as B,S as I}from"./@vue-DwLU1mub.js";import{_ as q}from"./auth-D_GbeW7X.js";import{v as F,h as L}from"./@element-plus-m0wAbjkV.js";import{T as H}from"./index-PhcqRHMH.js";import{L as J}from"./Logo-Ox-VyMqo.js";import{B as R}from"./BackSVG-Dci34yo-.js";import"./vue-router-BeDFSrMD.js";import"./vue-i18n-DcgfqTZL.js";import"./@intlify-CQT3u4ju.js";import"./vue-tel-input-BsVA42h1.js";import"./element-plus-D6RlUQ7b.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-Q_cOxmjC.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Ct2Knyoi.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DF51-gJp.js";const K={class:"auth"},Q={class:"auth__container container"},W={class:"auth__block"},X={class:"auth__flex"},Y={class:"auth__left"},ee={class:"auth__logo"},se={class:"auth__right"},le={class:"auth__top"},oe={key:0,class:"auth__form"},ae={class:"form__flex"},te={class:"form__group"},re={key:0,class:"error text_very"},ie={class:"form__group"},de={key:0,class:"error text_very"},ne={class:"form__group"},me={key:0,class:"error text_very"},ue={class:"form__buttons"},_e=["disabled"],pe={key:1,class:"auth__form"},fe={class:"form__flex"},ve={class:"form__group"},be={class:"form__labels"},ce={class:"form__label"},ye={class:"form__label"},Ne={key:0,class:"error text_very"},xe={key:0,class:"form__group"},ge={key:0,class:"error text_very"},we={key:1,class:"form__group"},ke={key:0,class:"error text_very"},Ve={class:"form__buttons"},he=["disabled"],Ce=["disabled"],Te={key:2,class:"auth__form"},Pe={class:"form__flex"},Be={class:"form__group"},De={key:0,class:"error text_very"},$e={class:"form__group"},ze={key:0,class:"error text_very"},Se={class:"form__group"},Ue={key:0,class:"error text_very"},Ie={class:"form__group"},Fe={key:0,class:"error text_very"},Le={class:"form__group"},Re={class:"form__checkboxes"},Ae={key:0,class:"error text_very"},Ee={class:"form__buttons"},Oe=["disabled"],Ze=["disabled"],je={key:0},Ge={key:1},Me={class:"form__step"},ps=G({__name:"Reg",setup(qe){const y=T(1),m=x({firstName:"",lastName:"",referralCode:""}),u=x({userType:"executor",executorName:"",labelName:""}),t=x({email:"",phone:"",password:"",confirmPassword:"",personalData:!1,marketing:!1}),i=x({firstName:"",lastName:"",referralCode:""}),p=x({userType:"",executorName:"",labelName:""}),o=x({email:"",phone:"",password:"",confirmPassword:"",personalData:""}),k=T(!1),V=T(!1),d=T(!1),h=()=>{let a=!0;return i.firstName="",i.lastName="",i.referralCode="",m.firstName.trim()?m.firstName.trim().length<2?(i.firstName="Имя должно содержать минимум 2 символа",a=!1):/^[a-zA-Zа-яА-ЯёЁ\s\-]+$/.test(m.firstName.trim())||(i.firstName="Имя может содержать только буквы, пробелы и дефисы",a=!1):(i.firstName="Имя обязательно для заполнения",a=!1),m.lastName.trim()&&m.lastName.trim().length<2?(i.lastName="Фамилия должна содержать минимум 2 символа",a=!1):m.lastName.trim()&&!/^[a-zA-Zа-яА-ЯёЁ\s\-]+$/.test(m.lastName.trim())&&(i.lastName="Фамилия может содержать только буквы, пробелы и дефисы",a=!1),m.referralCode.trim()&&m.referralCode.trim().length<3&&(i.referralCode="Реферальный код должен содержать минимум 3 символа",a=!1),a},D=()=>{let a=!0;return p.userType="",p.executorName="",p.labelName="",u.userType||(p.userType="Выберите тип пользователя",a=!1),u.userType==="executor"&&!u.executorName.trim()&&(p.executorName="Имя исполнителя обязательно",a=!1),u.userType==="label"&&!u.labelName.trim()&&(p.labelName="Название лейбла обязательно",a=!1),a},g=()=>{let a=!0;if(o.email="",o.phone="",o.password="",o.confirmPassword="",o.personalData="",t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email.trim())||(o.email="Введите корректный email адрес",a=!1):(o.email="Email обязателен для заполнения",a=!1),t.phone.trim()?/^[\d\s\-\+\(\)]+$/.test(t.phone.trim())||(o.phone="Введите корректный номер телефона",a=!1):(o.phone="Номер телефона обязателен",a=!1),!t.password)o.password="Пароль обязателен",a=!1;else if(t.password.length<6)o.password="Пароль должен содержать минимум 6 символов",a=!1;else{const e=/[A-Z]/.test(t.password),$=/[a-z]/.test(t.password),b=/\d/.test(t.password),C=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t.password);(!e||!$||!b||!C)&&(o.password="Пароль должен содержать заглавные и строчные буквы, цифры и специальные символы",a=!1)}return t.confirmPassword?t.password!==t.confirmPassword&&(o.confirmPassword="Пароли не совпадают",a=!1):(o.confirmPassword="Подтверждение пароля обязательно",a=!1),t.personalData||(o.personalData="Необходимо согласие на обработку персональных данных",a=!1),a},A=()=>{h()&&(y.value=2)},E=()=>{D()&&(y.value=3)},O=()=>{y.value=1},Z=()=>{y.value=2},j=async()=>{if(g()){d.value=!0;try{console.log("Все данные формы:",{...m,...u,...t}),await new Promise(a=>setTimeout(a,1e3)),alert("Регистрация успешно завершена!"),Object.assign(m,{firstName:"",lastName:"",referralCode:""}),Object.assign(u,{userType:"executor",executorName:"",labelName:""}),Object.assign(t,{email:"",phone:"",password:"",confirmPassword:"",personalData:!1,marketing:!1}),y.value=1}catch(a){console.error("Ошибка при регистрации:",a),alert("Произошла ошибка при регистрации. Попробуйте еще раз.")}finally{d.value=!1}}};return(a,e)=>{const $=P("RouterLink"),b=P("el-input"),C=P("el-icon"),z=P("el-checkbox");return r(),n("section",K,[s("div",Q,[s("div",W,[s("div",X,[s("div",Y,[s("div",ee,[_(J)]),e[24]||(e[24]=M('<div class="auth__image"><img src="'+q+'" alt="cover"></div><div class="auth__info"><h3 class="auth__heading">Стань известным и популярным в мире музыки</h3><p class="auth__description">Выложи трек на все площадки и продавай свою музыку во всем мире</p></div>',2))]),s("div",se,[s("div",le,[e[26]||(e[26]=s("p",{class:"auth__acc text_small"},"У вас уже есть аккаунт?",-1)),_($,{class:"auth__login button__second button",to:w(H).i18nRoute({name:"login"})},{default:N(()=>e[25]||(e[25]=[s("span",null,"Войти",-1)])),_:1},8,["to"])]),y.value===1?(r(),n("div",oe,[e[32]||(e[32]=s("div",{class:"form__heading"},[s("h1",{class:"form__head title_two"},"Регистрация")],-1)),s("div",ae,[s("div",te,[e[27]||(e[27]=s("label",{for:"firstName",class:"form__label button"},"Ваше имя*",-1)),_(b,{id:"firstName",modelValue:m.firstName,"onUpdate:modelValue":e[0]||(e[0]=l=>m.firstName=l),type:"text",class:f({error:i.firstName}),placeholder:"Введите ваше имя",disabled:d.value,onBlur:h,onInput:e[1]||(e[1]=l=>i.firstName=""),size:"large"},null,8,["modelValue","class","disabled"]),i.firstName?(r(),n("div",re,c(i.firstName),1)):v("",!0)]),s("div",ie,[e[28]||(e[28]=s("label",{for:"lastName",class:"form__label button"},"Ваша фамилия",-1)),_(b,{id:"lastName",modelValue:m.lastName,"onUpdate:modelValue":e[2]||(e[2]=l=>m.lastName=l),type:"text",class:f({error:i.lastName}),placeholder:"Введите вашу фамилию",disabled:d.value,onBlur:h,onInput:e[3]||(e[3]=l=>i.lastName=""),size:"large"},null,8,["modelValue","class","disabled"]),i.lastName?(r(),n("div",de,c(i.lastName),1)):v("",!0)]),s("div",ne,[e[29]||(e[29]=s("label",{for:"referralCode",class:"form__label button"},"Реферальный код",-1)),e[30]||(e[30]=s("div",{class:"form__hint text_small"}," Если у вас нет кода или почты партнёра, оставьте это поле пустым. ",-1)),_(b,{id:"referralCode",modelValue:m.referralCode,"onUpdate:modelValue":e[4]||(e[4]=l=>m.referralCode=l),type:"text",class:f({error:i.referralCode}),placeholder:"Введите код",disabled:d.value,onBlur:h,onInput:e[5]||(e[5]=l=>i.referralCode=""),size:"large"},null,8,["modelValue","class","disabled"]),i.referralCode?(r(),n("div",me,c(i.referralCode),1)):v("",!0)])]),s("div",ue,[s("button",{class:"form__send button__black button",onClick:A,disabled:d.value},e[31]||(e[31]=[s("span",null,"Продолжить",-1)]),8,_e)])])):y.value===2?(r(),n("div",pe,[e[42]||(e[42]=s("div",{class:"form__heading"},[s("h1",{class:"form__head title_two"},"Выберите тип аккаунта")],-1)),s("div",fe,[s("div",ve,[e[35]||(e[35]=s("label",{class:"form__label button"},"Тип учетной записи*",-1)),e[36]||(e[36]=s("p",{class:"form__desc text_small"}," Выбирайте «Исполнитель», если вы один артист с одним псевдонимом. Выбирайте «Лейбл», если собираетесь загружать много релизов от разных артистов. ",-1)),s("div",be,[s("label",ce,[S(s("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=l=>u.userType=l),value:"executor",class:"form__label_input"},null,512),[[U,u.userType]]),e[33]||(e[33]=s("span",{class:"form__label_text"},"Исполнитель",-1))]),s("label",ye,[S(s("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=l=>u.userType=l),value:"label",class:"form__label_input"},null,512),[[U,u.userType]]),e[34]||(e[34]=s("span",{class:"form__label_text"},"Лейбл",-1))])]),p.userType?(r(),n("div",Ne,c(p.userType),1)):v("",!0),e[37]||(e[37]=s("p",{class:"form__description text_very"}," Пожалуйста, впишите именно ПСЕВДОНИМ АРТИСТА, под которым будут выкладываться релизы. Если вы планируете публиковать релизы от разных псевдонимов, то сделайте несколько профилей из расчёта «1 профиль = 1 псевдоним», либо аккаунт лейбла. ",-1))]),u.userType==="executor"?(r(),n("div",xe,[e[38]||(e[38]=s("label",{class:"form__label button"},"Имя исполнителя*",-1)),_(b,{modelValue:u.executorName,"onUpdate:modelValue":e[8]||(e[8]=l=>u.executorName=l),type:"text",class:f({error:p.executorName}),placeholder:"Введите имя исполнителя",disabled:d.value,onBlur:D,onInput:e[9]||(e[9]=l=>p.executorName=""),size:"large"},null,8,["modelValue","class","disabled"]),p.executorName?(r(),n("div",ge,c(p.executorName),1)):v("",!0)])):v("",!0),u.userType==="label"?(r(),n("div",we,[e[39]||(e[39]=s("label",{class:"form__label button"},"Имя лейбла*",-1)),_(b,{modelValue:u.labelName,"onUpdate:modelValue":e[10]||(e[10]=l=>u.labelName=l),type:"text",class:f({error:p.labelName}),placeholder:"Введите название лейбла",disabled:d.value,onBlur:D,onInput:e[11]||(e[11]=l=>p.labelName=""),size:"large"},null,8,["modelValue","class","disabled"]),p.labelName?(r(),n("div",ke,c(p.labelName),1)):v("",!0)])):v("",!0)]),s("div",Ve,[s("button",{class:"form__back button__second button",onClick:O,disabled:d.value},[s("span",null,[_(R)]),e[40]||(e[40]=s("span",null,"Назад",-1))],8,he),s("button",{class:"form__send button__black button",onClick:E,disabled:d.value},e[41]||(e[41]=[s("span",null,"Продолжить",-1)]),8,Ce)])])):(r(),n("div",Te,[e[50]||(e[50]=s("div",{class:"form__heading"},[s("h1",{class:"form__head title_two"},"Контактные данные")],-1)),s("div",Pe,[s("div",Be,[e[43]||(e[43]=s("label",{for:"email",class:"form__label button"},"Электронная почта*",-1)),_(b,{id:"email",modelValue:t.email,"onUpdate:modelValue":e[12]||(e[12]=l=>t.email=l),type:"email",class:f({error:o.email}),placeholder:"Введите ваш e-mail",disabled:d.value,onBlur:g,onInput:e[13]||(e[13]=l=>o.email=""),size:"large"},null,8,["modelValue","class","disabled"]),o.email?(r(),n("div",De,c(o.email),1)):v("",!0)]),s("div",$e,[e[44]||(e[44]=s("label",{for:"phone",class:"form__label button"},"Номер телефона*",-1)),_(b,{id:"phone",modelValue:t.phone,"onUpdate:modelValue":e[14]||(e[14]=l=>t.phone=l),type:"tel",class:f({error:o.phone}),placeholder:"Введите номер телефона",disabled:d.value,onBlur:g,onInput:e[15]||(e[15]=l=>o.phone=""),size:"large"},null,8,["modelValue","class","disabled"]),o.phone?(r(),n("div",ze,c(o.phone),1)):v("",!0)]),s("div",Se,[e[45]||(e[45]=s("label",{for:"password",class:"form__label button"},"Пароль*",-1)),_(b,{id:"password",modelValue:t.password,"onUpdate:modelValue":e[17]||(e[17]=l=>t.password=l),type:k.value?"text":"password",class:f({error:o.password}),placeholder:"Введите пароль",disabled:d.value,onBlur:g,onInput:e[18]||(e[18]=l=>o.password=""),size:"large"},{suffix:N(()=>[_(C,{onClick:e[16]||(e[16]=l=>k.value=!k.value),style:{color:"var(--el-text-color-placeholder)",cursor:"pointer"}},{default:N(()=>[k.value?(r(),B(w(F),{key:0})):(r(),B(w(L),{key:1}))]),_:1})]),_:1},8,["modelValue","type","class","disabled"]),o.password?(r(),n("div",Ue,c(o.password),1)):v("",!0)]),s("div",Ie,[e[46]||(e[46]=s("label",{for:"confirmPassword",class:"form__label button"},"Повторите пароль*",-1)),_(b,{id:"confirmPassword",modelValue:t.confirmPassword,"onUpdate:modelValue":e[20]||(e[20]=l=>t.confirmPassword=l),type:V.value?"text":"password",class:f({error:o.confirmPassword}),placeholder:"Повторите пароль",disabled:d.value,onBlur:g,onInput:e[21]||(e[21]=l=>o.confirmPassword=""),size:"large"},{suffix:N(()=>[_(C,{onClick:e[19]||(e[19]=l=>V.value=!V.value),style:{color:"var(--el-text-color-placeholder)",cursor:"pointer"}},{default:N(()=>[V.value?(r(),B(w(F),{key:0})):(r(),B(w(L),{key:1}))]),_:1})]),_:1},8,["modelValue","type","class","disabled"]),o.confirmPassword?(r(),n("div",Fe,c(o.confirmPassword),1)):v("",!0)]),s("div",Le,[s("div",Re,[_(z,{modelValue:t.personalData,"onUpdate:modelValue":e[22]||(e[22]=l=>t.personalData=l),disabled:d.value,class:f({error:o.personalData}),size:"large"},{default:N(()=>e[47]||(e[47]=[I(" Я даю согласие на обработку своих персональных данных ")])),_:1},8,["modelValue","disabled","class"]),_(z,{modelValue:t.marketing,"onUpdate:modelValue":e[23]||(e[23]=l=>t.marketing=l),disabled:d.value,size:"large"},{default:N(()=>e[48]||(e[48]=[I(" Я даю согласие на рекламную рассылку ")])),_:1},8,["modelValue","disabled"])]),o.personalData?(r(),n("div",Ae,c(o.personalData),1)):v("",!0)])]),s("div",Ee,[s("button",{class:"form__back button__second button",onClick:Z,disabled:d.value},[s("span",null,[_(R)]),e[49]||(e[49]=s("span",null,"Назад",-1))],8,Oe),s("button",{class:"form__send button__black button",onClick:j,disabled:d.value},[d.value?(r(),n("span",Ge,"Загрузка...")):(r(),n("span",je,"Зарегистрироваться"))],8,Ze)])])),s("div",Me,[s("span",{class:f({active:y.value>=1})},null,2),s("span",{class:f({active:y.value>=2})},null,2),s("span",{class:f({active:y.value>=3})},null,2)])])])])])])}}});export{ps as default};
