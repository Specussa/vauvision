import{_ as N}from"./auth-D_GbeW7X.js";import{v as b,h as y}from"./@element-plus-m0wAbjkV.js";import{L as P}from"./Logo-BoKzTO4B.js";import{d as $,Z as k,b as h,c as n,a as o,U as d,O as f,I as g,T as x,R as V,ai as C,o as l,M as u,u as v}from"./@vue-DwLU1mub.js";import"./index-BGeyuqtG.js";import"./vue-router-CPimp6oI.js";import"./vue-i18n-DcgfqTZL.js";import"./@intlify-CQT3u4ju.js";import"./vue-tel-input-BsVA42h1.js";import"./element-plus-3NUcAjFf.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-Q_cOxmjC.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Ct2Knyoi.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DF51-gJp.js";const z={class:"auth"},L={class:"auth__container container"},S={class:"auth__block"},U={class:"auth__flex"},I={class:"auth__left"},D={class:"auth__left_left"},T={class:"auth__logo"},Z={class:"auth__right"},A={class:"auth__form"},E={class:"form__flex"},F={class:"form__group"},G={key:0,class:"error text_very"},M={class:"form__group"},O={key:0,class:"error text_very"},R={class:"form__buttons"},j=["disabled"],q={key:0},H={key:1},fs=$({__name:"NewPass",setup(J){const e=k({password:"",confirm:""}),t=k({password:"",confirm:""}),_=h(!1),p=h(!1),i=h(!1),w=()=>{let a=!0;if(t.password="",t.confirm="",!e.password)t.password="Пароль обязателен для заполнения",a=!1;else if(e.password.length<6)t.password="Пароль должен содержать минимум 6 символов",a=!1;else{const s=/[A-Z]/.test(e.password),c=/[a-z]/.test(e.password),m=/\d/.test(e.password),r=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e.password);(!s||!c||!m||!r)&&(t.password="Пароль должен содержать заглавные и строчные буквы, цифры и специальные символы",a=!1)}return e.confirm?e.password!==e.confirm&&(t.confirm="Пароли не совпадают",a=!1):(t.confirm="Подтверждение пароля обязательно",a=!1),a},B=async()=>{if(w()){i.value=!0;try{console.log("Данные формы:",{password:e.password,confirm:e.confirm}),await new Promise(a=>setTimeout(a,1e3)),alert("Пароль успешно изменен!"),e.password="",e.confirm=""}catch(a){console.error("Ошибка при восстановлении пароля:",a),alert("Произошла ошибка при восстановлении пароля. Попробуйте еще раз.")}finally{i.value=!1}}};return(a,s)=>{const c=C("el-icon"),m=C("el-input");return l(),n("section",z,[o("div",L,[o("div",S,[o("div",U,[o("div",I,[o("div",D,[o("div",T,[d(P)]),s[6]||(s[6]=o("div",{class:"auth__info"},[o("h3",{class:"auth__heading"},"Стань известным и популярным в мире музыки"),o("p",{class:"auth__description"},"Выложи трек на все площадки и продавай свою музыку во всем мире")],-1))]),s[7]||(s[7]=o("div",{class:"auth__image"},[o("img",{src:N,alt:"cover"})],-1))]),o("div",Z,[o("div",A,[s[10]||(s[10]=o("div",{class:"form__heading"},[o("h1",{class:"form__head title_two"},"Восстановление пароля")],-1)),o("div",E,[o("div",F,[s[8]||(s[8]=o("label",{for:"password",class:"form__label button"},"Новый пароль",-1)),d(m,{id:"password",modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=r=>e.password=r),type:_.value?"text":"password",class:g({error:t.password}),placeholder:"Введите новый пароль",disabled:i.value,onBlur:w,onInput:s[2]||(s[2]=r=>t.password=""),size:"large"},{suffix:f(()=>[d(c,{onClick:s[0]||(s[0]=r=>_.value=!_.value),style:{color:"var(--el-text-color-placeholder)",cursor:"pointer"}},{default:f(()=>[_.value?(l(),u(v(b),{key:0})):(l(),u(v(y),{key:1}))]),_:1})]),_:1},8,["modelValue","type","class","disabled"]),t.password?(l(),n("div",G,x(t.password),1)):V("",!0)]),o("div",M,[s[9]||(s[9]=o("label",{for:"confirmPassword",class:"form__label button"},"Повторите пароль",-1)),d(m,{id:"confirmPassword",modelValue:e.confirm,"onUpdate:modelValue":s[4]||(s[4]=r=>e.confirm=r),type:p.value?"text":"password",class:g({error:t.confirm}),placeholder:"Повторите новый пароль",disabled:i.value,onBlur:w,onInput:s[5]||(s[5]=r=>t.confirm=""),size:"large"},{suffix:f(()=>[d(c,{onClick:s[3]||(s[3]=r=>p.value=!p.value),style:{color:"var(--el-text-color-placeholder)",cursor:"pointer"}},{default:f(()=>[p.value?(l(),u(v(b),{key:0})):(l(),u(v(y),{key:1}))]),_:1})]),_:1},8,["modelValue","type","class","disabled"]),t.confirm?(l(),n("div",O,x(t.confirm),1)):V("",!0)])]),o("div",R,[o("button",{class:"form__send button__black button",onClick:B,disabled:i.value},[i.value?(l(),n("span",H,"Загрузка...")):(l(),n("span",q,"восстановить пароль"))],8,j)])])])])])])])}}});export{fs as default};
